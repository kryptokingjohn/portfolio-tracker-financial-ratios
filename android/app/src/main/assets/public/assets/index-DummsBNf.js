var ms=Object.defineProperty,us=Object.defineProperties;var hs=Object.getOwnPropertyDescriptors;var nt=Object.getOwnPropertySymbols;var ps=Object.prototype.hasOwnProperty,fs=Object.prototype.propertyIsEnumerable;var ie=(t,s)=>(s=Symbol[t])?s:Symbol.for("Symbol."+t),gs=t=>{throw TypeError(t)};var it=(t,s,a)=>s in t?ms(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,U=(t,s)=>{for(var a in s||(s={}))ps.call(s,a)&&it(t,a,s[a]);if(nt)for(var a of nt(s))fs.call(s,a)&&it(t,a,s[a]);return t},Q=(t,s)=>us(t,hs(s));var ys=(t,s)=>()=>(s||t((s={exports:{}}).exports,s),s.exports);var L=(t,s,a)=>new Promise((r,n)=>{var i=m=>{try{c(a.next(m))}catch(x){n(x)}},l=m=>{try{c(a.throw(m))}catch(x){n(x)}},c=m=>m.done?r(m.value):Promise.resolve(m.value).then(i,l);c((a=a.apply(t,s)).next())}),Z=function(t,s){this[0]=t,this[1]=s},Be=(t,s,a)=>{var r=(l,c,m,x)=>{try{var d=a[l](c),h=(c=d.value)instanceof Z,u=d.done;Promise.resolve(h?c[0]:c).then(y=>h?r(l==="return"?l:"next",c[1]?{done:y.done,value:y.value}:y,m,x):m({value:y,done:u})).catch(y=>r("throw",y,m,x))}catch(y){x(y)}},n=l=>i[l]=c=>new Promise((m,x)=>r(l,c,m,x)),i={};return a=a.apply(t,s),i[ie("asyncIterator")]=()=>i,n("next"),n("throw"),n("return"),i},Le=t=>{var s=t[ie("asyncIterator")],a=!1,r,n={};return s==null?(s=t[ie("iterator")](),r=i=>n[i]=l=>s[i](l)):(s=s.call(t),r=i=>n[i]=l=>{if(a){if(a=!1,i==="throw")throw l;return l}return a=!0,{done:!1,value:new Z(new Promise(c=>{var m=s[i](l);m instanceof Object||gs("Object expected"),c(m)}),1)}}),n[ie("iterator")]=()=>n,r("next"),"throw"in s?r("throw"):n.throw=i=>{throw i},"return"in s&&r("return"),n},lt=(t,s,a)=>(s=t[ie("asyncIterator")])?s.call(t):(t=t[ie("iterator")](),s={},a=(r,n)=>(n=t[r])&&(s[r]=i=>new Promise((l,c,m)=>(i=n.call(t,i),m=i.done,Promise.resolve(i.value).then(x=>l({value:x,done:m}),c)))),a("next"),a("return"),s);import{r as E,a as js,R as X}from"./vendor-Cf3QorUS.js";import{A as $e,D as G,S as H,T as D,B as O,I as ne,P as pe,C as se,M as bs,L as Ns,E as wt,a as Rt,b as vs,X as kt,c as Ke,d as ws,e as Rs,f as ue,g as Xe,H as Et,h as Ue,i as ce,j as re,Z as ks,k as Es,l as Ss,m as Cs,U as we,n as le,G as Ps,W as Ts,o as As,p as Fs,q as Ms,F as Ds,r as Os,s as Bs,t as Ls,u as je,v as St,w as $s}from"./ui-DK7aVBtm.js";import{c as qs}from"./supabase-B0W5aLBj.js";var Ua=ys(Y=>{(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();var Ct={exports:{}},Ce={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Is=E,_s=Symbol.for("react.element"),Vs=Symbol.for("react.fragment"),Us=Object.prototype.hasOwnProperty,Ys=Is.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hs={key:!0,ref:!0,__self:!0,__source:!0};function Pt(t,s,a){var r,n={},i=null,l=null;a!==void 0&&(i=""+a),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(l=s.ref);for(r in s)Us.call(s,r)&&!Hs.hasOwnProperty(r)&&(n[r]=s[r]);if(t&&t.defaultProps)for(r in s=t.defaultProps,s)n[r]===void 0&&(n[r]=s[r]);return{$$typeof:_s,type:t,key:i,ref:l,props:n,_owner:Ys.current}}Ce.Fragment=Vs;Ce.jsx=Pt;Ce.jsxs=Pt;Ct.exports=Ce;var e=Ct.exports,Tt,ct=js;Tt=ct.createRoot,ct.hydrateRoot;const At=[{id:"1",company:"Apple Inc.",ticker:"AAPL",type:"stocks",accountType:"401k",shares:100,costBasis:150,currentPrice:175.5,yearHigh:182.94,yearLow:124.17,fcf1yr:2.8,fcf2yr:2.5,fcf3yr:2.3,fcf10yr:89.1,evFcf:18.2,sectorMedianEvFcf:19.5,intrinsicValue:185,pe:28.5,pb:8.2,peg:1.4,debtToEquity:.31,currentRatio:1.07,quickRatio:.83,roe:36.9,roa:22.4,grossMargin:43.3,netMargin:25.7,operatingMargin:29.8,assetTurnover:.87,revenueGrowth:7.8,narrative:"Leading technology company with strong ecosystem and services growth",sector:"Technology",dividend:.96,dividendYield:.55},{id:"2",company:"Microsoft Corporation",ticker:"MSFT",type:"stocks",accountType:"roth_ira",shares:75,costBasis:280,currentPrice:325.75,yearHigh:384.52,yearLow:245.18,fcf1yr:3.2,fcf2yr:2.9,fcf3yr:2.7,fcf10yr:65.2,evFcf:22.5,sectorMedianEvFcf:19.5,intrinsicValue:340,pe:32.1,pb:4.8,peg:1.8,debtToEquity:.35,currentRatio:1.89,quickRatio:1.77,roe:43.7,roa:18.1,grossMargin:69.8,netMargin:36.7,operatingMargin:42.1,assetTurnover:.49,revenueGrowth:12.1,narrative:"Cloud computing leader with strong Azure growth and productivity software dominance",sector:"Technology",dividend:2.72,dividendYield:.83},{id:"3",company:"Johnson & Johnson",ticker:"JNJ",type:"stocks",accountType:"taxable",shares:50,costBasis:165,currentPrice:158.25,yearHigh:185.94,yearLow:143.38,fcf1yr:1.9,fcf2yr:1.8,fcf3yr:1.7,fcf10yr:23.5,evFcf:12.8,sectorMedianEvFcf:14.2,intrinsicValue:175,pe:15.2,pb:1.8,peg:1.1,debtToEquity:.46,currentRatio:1.32,quickRatio:1.05,roe:23.4,roa:9.8,grossMargin:68.4,netMargin:20.3,operatingMargin:24.1,assetTurnover:.48,revenueGrowth:5.2,narrative:"Diversified healthcare company with strong pharmaceutical pipeline and consistent dividend growth",sector:"Healthcare",dividend:4.68,dividendYield:2.95},{id:"4",company:"SPDR S&P 500 ETF Trust",ticker:"SPY",type:"etfs",accountType:"traditional_ira",shares:25,costBasis:410,currentPrice:445.5,yearHigh:467.23,yearLow:362.17,fcf1yr:0,fcf2yr:0,fcf3yr:0,fcf10yr:0,evFcf:0,sectorMedianEvFcf:0,intrinsicValue:450,pe:21.8,pb:3.2,peg:1.3,debtToEquity:0,currentRatio:0,quickRatio:0,roe:0,roa:0,grossMargin:0,netMargin:0,operatingMargin:0,assetTurnover:0,revenueGrowth:0,narrative:"Tracks S&P 500 index providing broad market exposure with low expense ratio",sector:"Index Fund",dividend:1.23,dividendYield:.28},{id:"5",company:"Vanguard Total Stock Market ETF",ticker:"VTI",type:"etfs",accountType:"taxable",shares:40,costBasis:195,currentPrice:218.75,yearHigh:230.45,yearLow:178.94,fcf1yr:0,fcf2yr:0,fcf3yr:0,fcf10yr:0,evFcf:0,sectorMedianEvFcf:0,intrinsicValue:225,pe:22.1,pb:3.4,peg:1.4,debtToEquity:0,currentRatio:0,quickRatio:0,roe:0,roa:0,grossMargin:0,netMargin:0,operatingMargin:0,assetTurnover:0,revenueGrowth:0,narrative:"Provides exposure to entire U.S. stock market with extremely low fees",sector:"Index Fund",dividend:.89,dividendYield:.41},{id:"6",company:"U.S. Treasury Bond 10-Year",ticker:"GOVT",type:"bonds",accountType:"hsa",shares:200,costBasis:25.5,currentPrice:24.75,yearHigh:26.89,yearLow:23.12,fcf1yr:0,fcf2yr:0,fcf3yr:0,fcf10yr:0,evFcf:0,sectorMedianEvFcf:0,intrinsicValue:25,pe:0,pb:0,peg:0,debtToEquity:0,currentRatio:0,quickRatio:0,roe:0,roa:0,grossMargin:0,netMargin:0,operatingMargin:0,assetTurnover:0,revenueGrowth:0,narrative:"Government bond ETF providing stable income and portfolio diversification",sector:"Fixed Income",dividend:.62,dividendYield:2.51}],Gs=()=>{const[t,s]=E.useState(null),[a,r]=E.useState(!0);E.useEffect(()=>{const h=new URLSearchParams(window.location.search),u=h.get("ticker");if(h.get("company"),h.get("type"),u){const y=At.find(g=>g.ticker===u);y&&s(y)}r(!1)},[]);const n=(h,u=1)=>h===0?"0":h.toFixed(u),i=h=>h===0?"0%":`${h>=0?"+":""}${h.toFixed(1)}%`,l=h=>h>=1e9?`$${(h/1e9).toFixed(1)}B`:h>=1e6?`$${(h/1e6).toFixed(1)}M`:`$${h.toLocaleString()}`,c=()=>{window.close()};if(a)return e.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:e.jsx("div",{className:"text-white text-xl",children:"Loading..."})});if(!t)return e.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:e.jsx("div",{className:"text-white text-xl",children:"Holding not found"})});const m=()=>e.jsx("div",{className:"bg-gray-900 text-white min-h-screen p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h1",{className:"text-3xl font-bold text-green-400",children:[t.ticker," - ",t.company," Financial Ratios"]}),e.jsxs("button",{onClick:c,className:"flex items-center space-x-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",children:[e.jsx($e,{className:"h-4 w-4"}),e.jsx("span",{children:"Close"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(G,{className:"h-6 w-6 text-blue-400 mr-3"}),e.jsx("h2",{className:"text-xl font-semibold text-blue-400",children:"Valuation Ratios"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Determine if a stock is overvalued or undervalued relative to earnings, book value, and growth prospects."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"P/E Ratio"}),e.jsxs("span",{className:"text-white font-bold text-xl",children:[n(t.pe),"x"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"P/B Ratio"}),e.jsxs("span",{className:"text-white font-bold text-xl",children:[n(t.pb),"x"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"PEG Ratio"}),e.jsxs("span",{className:"text-white font-bold text-xl",children:[n(t.peg),"x"]})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(H,{className:"h-6 w-6 text-yellow-400 mr-3"}),e.jsx("h2",{className:"text-xl font-semibold text-yellow-400",children:"Financial Health"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Assess the company's ability to meet obligations and manage debt effectively."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"Debt-to-Equity"}),e.jsxs("span",{className:"text-white font-bold text-xl",children:[n(t.debtToEquity,2),"x"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"Current Ratio"}),e.jsxs("span",{className:"text-white font-bold text-xl",children:[n(t.currentRatio,2),"x"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"Quick Ratio"}),e.jsxs("span",{className:"text-white font-bold text-xl",children:[n(t.quickRatio,2),"x"]})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(D,{className:"h-6 w-6 text-green-400 mr-3"}),e.jsx("h2",{className:"text-xl font-semibold text-green-400",children:"Profitability"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Measure how efficiently the company generates profits from its assets and equity."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"ROE"}),e.jsx("span",{className:"text-white font-bold text-xl",children:i(t.roe)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"ROA"}),e.jsx("span",{className:"text-white font-bold text-xl",children:i(t.roa)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"Gross Margin"}),e.jsx("span",{className:"text-white font-bold text-xl",children:i(t.grossMargin)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"Net Margin"}),e.jsx("span",{className:"text-white font-bold text-xl",children:i(t.netMargin)})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(O,{className:"h-6 w-6 text-purple-400 mr-3"}),e.jsx("h2",{className:"text-xl font-semibold text-purple-400",children:"Operating Efficiency"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Evaluate how well management uses company resources to generate revenue and control costs."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"Operating Margin"}),e.jsx("span",{className:"text-white font-bold text-xl",children:i(t.operatingMargin)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"Asset Turnover"}),e.jsxs("span",{className:"text-white font-bold text-xl",children:[n(t.assetTurnover,2),"x"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"Revenue Growth"}),e.jsx("span",{className:"text-white font-bold text-xl",children:i(t.revenueGrowth)})]})]})]})]})]})}),x=()=>e.jsx("div",{className:"bg-gray-900 text-white min-h-screen p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h1",{className:"text-3xl font-bold text-green-400",children:[t.ticker," - ",t.company," Performance Metrics"]}),e.jsxs("button",{onClick:c,className:"flex items-center space-x-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",children:[e.jsx($e,{className:"h-4 w-4"}),e.jsx("span",{children:"Close"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(D,{className:"h-6 w-6 text-green-400 mr-3"}),e.jsx("h2",{className:"text-xl font-semibold text-green-400",children:"Performance Returns"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Track historical returns and alpha to evaluate fund performance against benchmarks."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"1-Year Return"}),e.jsx("span",{className:"text-green-400 font-bold text-xl",children:"+24.8%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"3-Year Return"}),e.jsx("span",{className:"text-green-400 font-bold text-xl",children:"+10.2%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"5-Year Return"}),e.jsx("span",{className:"text-green-400 font-bold text-xl",children:"+15.1%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"Alpha"}),e.jsx("span",{className:"text-green-400 font-bold text-xl",children:"+0.1%"})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(H,{className:"h-6 w-6 text-red-400 mr-3"}),e.jsx("h2",{className:"text-xl font-semibold text-red-400",children:"Risk Metrics"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Understand volatility, correlation to market, and risk-adjusted returns for informed decisions."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"Beta"}),e.jsx("span",{className:"text-white font-bold text-xl",children:"1"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"Sharpe Ratio"}),e.jsx("span",{className:"text-white font-bold text-xl",children:"1.42"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"Standard Deviation"}),e.jsx("span",{className:"text-white font-bold text-xl",children:"17.8%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"Tracking Error"}),e.jsx("span",{className:"text-white font-bold text-xl",children:"0.02%"})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(ne,{className:"h-6 w-6 text-blue-400 mr-3"}),e.jsx("h2",{className:"text-xl font-semibold text-blue-400",children:"Fund Details"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Critical fund characteristics affecting long-term returns and investment costs."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"Expense Ratio"}),e.jsx("span",{className:"text-white font-bold text-xl",children:"0.03%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"Assets Under Management"}),e.jsx("span",{className:"text-white font-bold text-xl",children:"$1.3B"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(O,{className:"h-6 w-6 text-purple-400 mr-3"}),e.jsx("h2",{className:"text-xl font-semibold text-purple-400",children:"Risk Assessment"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-semibold text-lg",children:"Beta: "}),e.jsx("span",{className:"text-gray-300",children:"Measures volatility relative to market. More volatile than market."})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-semibold text-lg",children:"Sharpe Ratio: "}),e.jsx("span",{className:"text-gray-300",children:"Risk-adjusted return measure. Good risk-adjusted returns."})]})]})]})]})}),d=()=>e.jsx("div",{className:"bg-gray-900 text-white min-h-screen p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h1",{className:"text-3xl font-bold text-green-400",children:[t.ticker," - ",t.company," Bond Metrics"]}),e.jsxs("button",{onClick:c,className:"flex items-center space-x-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",children:[e.jsx($e,{className:"h-4 w-4"}),e.jsx("span",{children:"Close"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(pe,{className:"h-6 w-6 text-green-400 mr-3"}),e.jsx("h2",{className:"text-xl font-semibold text-green-400",children:"Yield & Income"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Current income generation and yield characteristics of the bond investment."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"Current Yield"}),e.jsx("span",{className:"text-white font-bold text-xl",children:i(t.dividendYield||2.51)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"Annual Income"}),e.jsx("span",{className:"text-white font-bold text-xl",children:l(t.shares*(t.dividend||0))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"Yield to Maturity"}),e.jsx("span",{className:"text-white font-bold text-xl",children:"4.2%"})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(H,{className:"h-6 w-6 text-blue-400 mr-3"}),e.jsx("h2",{className:"text-xl font-semibold text-blue-400",children:"Risk Characteristics"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Interest rate sensitivity and credit quality assessment for risk management."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"Duration"}),e.jsx("span",{className:"text-white font-bold text-xl",children:"6.8 years"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"Credit Rating"}),e.jsx("span",{className:"text-white font-bold text-xl",children:"AAA"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"Interest Rate Risk"}),e.jsx("span",{className:"text-yellow-400 font-bold text-xl",children:"Moderate"})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(D,{className:"h-6 w-6 text-purple-400 mr-3"}),e.jsx("h2",{className:"text-xl font-semibold text-purple-400",children:"Performance Metrics"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Historical performance and volatility characteristics of the bond fund."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"1-Year Return"}),e.jsx("span",{className:"text-green-400 font-bold text-xl",children:"+2.1%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"3-Year Return"}),e.jsx("span",{className:"text-red-400 font-bold text-xl",children:"-1.8%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"Volatility"}),e.jsx("span",{className:"text-white font-bold text-xl",children:"3.2%"})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(se,{className:"h-6 w-6 text-orange-400 mr-3"}),e.jsx("h2",{className:"text-xl font-semibold text-orange-400",children:"Fund Information"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Key fund characteristics and management details for investment evaluation."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"Expense Ratio"}),e.jsx("span",{className:"text-white font-bold text-xl",children:"0.05%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"Average Maturity"}),e.jsx("span",{className:"text-white font-bold text-xl",children:"8.5 years"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-lg",children:"Assets Under Management"}),e.jsx("span",{className:"text-white font-bold text-xl",children:"$45.2B"})]})]})]})]})]})});return e.jsxs(e.Fragment,{children:[t.type==="stocks"&&m(),t.type==="etfs"&&x(),t.type==="bonds"&&d()]})},zs="https://your-project.supabase.co",Ws="your-anon-key-here",xe=qs(zs,Ws),Ft=E.createContext(void 0),Ze=()=>{const t=E.useContext(Ft);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Qs=()=>{const[t,s]=E.useState(null),[a,r]=E.useState(null),[n,i]=E.useState(!0);return E.useEffect(()=>{xe.auth.getSession().then(({data:{session:d}})=>{var h;r(d),s((h=d==null?void 0:d.user)!=null?h:null),i(!1)});const{data:{subscription:x}}=xe.auth.onAuthStateChange((d,h)=>L(Y,null,function*(){var u;r(h),s((u=h==null?void 0:h.user)!=null?u:null),i(!1)}));return()=>x.unsubscribe()},[]),{user:t,session:a,loading:n,signIn:(x,d)=>L(Y,null,function*(){const{error:h}=yield xe.auth.signInWithPassword({email:x,password:d});return{error:h}}),signUp:(x,d)=>L(Y,null,function*(){const{error:h}=yield xe.auth.signUp({email:x,password:d});return{error:h}}),signOut:()=>L(Y,null,function*(){yield xe.auth.signOut()})}},Js=({children:t})=>{const s=Qs();return e.jsx(Ft.Provider,{value:s,children:t})},Ks=()=>{const[t,s]=E.useState(!0),[a,r]=E.useState(""),[n,i]=E.useState(""),[l,c]=E.useState(!1),[m,x]=E.useState(!1),[d,h]=E.useState(""),[u,y]=E.useState(""),{signIn:g,signUp:j}=Ze(),o=p=>p.length<6?(y("Password must be at least 6 characters long"),!1):(y(""),!0),N=p=>L(Y,null,function*(){if(p.preventDefault(),x(!0),h(""),y(""),!t&&!o(n)){x(!1);return}try{const{error:v}=t?yield g(a,n):yield j(a,n);v&&h(v.message)}catch(v){h("An unexpected error occurred")}finally{x(!1)}});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:e.jsx(D,{className:"h-8 w-8 text-white"})})}),e.jsx("h2",{className:"text-3xl font-bold text-white",children:"Portfolio Tracker Pro"}),e.jsx("p",{className:"mt-2 text-gray-300",children:"Professional portfolio management with comprehensive financial analytics"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-lg p-4 text-center",children:[e.jsx(O,{className:"h-6 w-6 text-blue-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Advanced Analytics"})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-lg p-4 text-center",children:[e.jsx(H,{className:"h-6 w-6 text-green-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Secure & Private"})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-lg p-4 text-center",children:[e.jsx(G,{className:"h-6 w-6 text-yellow-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Real-time Data"})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-lg p-4 text-center",children:[e.jsx(D,{className:"h-6 w-6 text-purple-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Performance Tracking"})]})]}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-8 shadow-xl",children:e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-200 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"email",type:"email",value:a,onChange:p=>r(p.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 bg-gray-800/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-200 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"password",type:l?"text":"password",value:n,onChange:p=>i(p.target.value),required:!0,minLength:6,className:"w-full pl-10 pr-12 py-3 bg-gray-800/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password"}),e.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-300",children:l?e.jsx(wt,{className:"h-5 w-5"}):e.jsx(Rt,{className:"h-5 w-5"})})]})]}),u&&e.jsx("div",{className:"bg-yellow-500/20 border border-yellow-500/50 rounded-lg p-3",children:e.jsx("p",{className:"text-yellow-200 text-sm",children:u})}),d&&e.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-3",children:e.jsx("p",{className:"text-red-200 text-sm",children:d})}),e.jsx("button",{type:"submit",disabled:m,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center",children:m?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):t?"Sign In":"Create Account"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>s(!t),className:"text-blue-400 hover:text-blue-300 text-sm",children:t?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})}),e.jsx("div",{className:"text-center text-gray-400 text-sm",children:e.jsx("p",{children:"Secure • Private • Professional"})})]})})},Xs=()=>{const[t,s]=E.useState(null),[a,r]=E.useState(!1),[n,i]=E.useState(!1);return E.useEffect(()=>{i(window.matchMedia("(display-mode: standalone)").matches);const c=x=>{x.preventDefault(),s(x),r(!0)},m=()=>{i(!0),r(!1),s(null)};return window.addEventListener("beforeinstallprompt",c),window.addEventListener("appinstalled",m),()=>{window.removeEventListener("beforeinstallprompt",c),window.removeEventListener("appinstalled",m)}},[]),{isInstallable:a,isInstalled:n,installApp:()=>L(Y,null,function*(){if(!t)return!1;try{return yield t.prompt(),(yield t.userChoice).outcome==="accepted"?(i(!0),r(!1),s(null),!0):!1}catch(c){return console.error("Error installing app:",c),!1}})}},Zs=()=>{const{isInstallable:t,installApp:s}=Xs(),[a,r]=X.useState(!1);if(!t||a)return null;const n=()=>L(Y,null,function*(){(yield s())&&r(!0)});return e.jsx("div",{className:"fixed bottom-20 left-4 right-4 bg-blue-600 text-white p-4 rounded-lg shadow-lg z-50 md:hidden",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(vs,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Install Portfolio Pro"}),e.jsx("p",{className:"text-sm text-blue-100",children:"Get the full app experience"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:n,className:"bg-white text-blue-600 px-3 py-1 rounded text-sm font-medium",children:"Install"}),e.jsx("button",{onClick:()=>r(!0),className:"text-blue-100 hover:text-white",children:e.jsx(kt,{className:"h-4 w-4"})})]})]})})},er=({title:t,onAddTransaction:s,showAddButton:a=!1})=>{const{signOut:r}=Ze();return e.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 safe-area-top",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:t})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[a&&s&&e.jsx("button",{onClick:s,className:"p-2 bg-blue-600 text-white rounded-full shadow-lg",children:e.jsx(Ke,{className:"h-5 w-5"})}),e.jsx("button",{className:"p-2 text-gray-600 hover:text-gray-800",children:e.jsx(ws,{className:"h-5 w-5"})}),e.jsx("button",{onClick:r,className:"p-2 text-gray-600 hover:text-gray-800",children:e.jsx(Rs,{className:"h-5 w-5"})})]})]})})},tr=({activeTab:t,onTabChange:s})=>{const a=[{id:"portfolio",label:"Portfolio",icon:ue},{id:"performance",label:"Performance",icon:D},{id:"accounts",label:"Accounts",icon:Xe},{id:"dividends",label:"Dividends",icon:G},{id:"transactions",label:"History",icon:Et}];return e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-2 py-1 safe-area-bottom",children:e.jsx("div",{className:"flex justify-around",children:a.map(r=>{const n=r.icon,i=t===r.id;return e.jsxs("button",{onClick:()=>s(r.id),className:`flex flex-col items-center py-2 px-3 rounded-lg transition-colors ${i?"text-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,children:[e.jsx(n,{className:`h-5 w-5 mb-1 ${i?"text-blue-600":"text-gray-500"}`}),e.jsx("span",{className:"text-xs font-medium",children:r.label})]},r.id)})})})},sr=({holding:t,onQuickView:s})=>{const a=t.shares*t.currentPrice,r=t.shares*t.costBasis,n=a-r,i=n/r*100,l=(t.intrinsicValue-t.currentPrice)/t.currentPrice*100,c=x=>`$${x.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,m=x=>`${x>=0?"+":""}${x.toFixed(1)}%`;return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-3",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"text-lg font-bold text-blue-600",children:t.ticker}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${t.type==="stocks"?"bg-green-100 text-green-800":t.type==="etfs"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:t.type.toUpperCase()})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.company}),e.jsx("p",{className:"text-xs text-gray-500",children:t.sector})]}),e.jsx("button",{onClick:()=>s(t.ticker,t.company,t.type),className:"p-2 text-gray-400 hover:text-blue-600",children:e.jsx(Ue,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Current Value"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:c(a)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Gain/Loss"}),e.jsxs("div",{className:`flex items-center ${n>=0?"text-green-600":"text-red-600"}`,children:[n>=0?e.jsx(D,{className:"h-4 w-4 mr-1"}):e.jsx(ce,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"font-bold",children:c(n)})]}),e.jsx("p",{className:`text-sm ${n>=0?"text-green-600":"text-red-600"}`,children:m(i)})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Shares"}),e.jsx("p",{className:"font-medium",children:t.shares})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Avg Cost"}),e.jsx("p",{className:"font-medium",children:c(t.costBasis)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Current Price"}),e.jsx("p",{className:"font-medium",children:c(t.currentPrice)})]})]}),t.type==="stocks"&&e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:e.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-500",children:"P/E"}),e.jsx("p",{className:"font-medium",children:t.pe.toFixed(1)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-500",children:"ROE"}),e.jsxs("p",{className:"font-medium",children:[t.roe.toFixed(1),"%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-500",children:"D/E"}),e.jsx("p",{className:"font-medium",children:t.debtToEquity.toFixed(1)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-500",children:"Upside"}),e.jsx("p",{className:`font-medium ${l>=0?"text-green-600":"text-red-600"}`,children:m(l)})]})]})})]})},Mt=({holdings:t})=>{const a=(()=>{let i=0,l=0,c=0;t.forEach(h=>{const u=h.shares*h.currentPrice,y=h.shares*h.costBasis,g=h.dividend?h.shares*h.dividend:0;i+=u,l+=y,c+=g});const m=i-l,x=l>0?m/l*100:0,d=i>0?c/i*100:0;return{totalValue:i,totalCost:l,totalGainLoss:m,totalGainLossPercent:x,totalDividendIncome:c,dividendYield:d}})(),r=i=>`$${i.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,n=i=>`${i.toFixed(2)}%`;return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(G,{className:"h-8 w-8 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Total Portfolio Value"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r(a.totalValue)})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(G,{className:"h-8 w-8 text-gray-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Total Cost Basis"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r(a.totalCost)})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:a.totalGainLoss>=0?e.jsx(D,{className:"h-8 w-8 text-green-600"}):e.jsx(ce,{className:"h-8 w-8 text-red-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Total Gain/Loss"}),e.jsx("div",{className:`text-2xl font-bold ${a.totalGainLoss>=0?"text-green-600":"text-red-600"}`,children:r(a.totalGainLoss)}),e.jsx("div",{className:`text-sm ${a.totalGainLoss>=0?"text-green-600":"text-red-600"}`,children:n(a.totalGainLossPercent)})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(pe,{className:"h-8 w-8 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Dividend Yield"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:n(a.dividendYield)}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Annual: ",r(a.totalDividendIncome)]})]})]})})]})},qe={Technology:{weight:.28,return:.25},Healthcare:{weight:.13,return:.15},"Financial Services":{weight:.11,return:.18},"Consumer Discretionary":{weight:.1,return:.22},"Communication Services":{weight:.09,return:.12},Industrials:{weight:.08,return:.16},"Consumer Staples":{weight:.06,return:.08},Energy:{weight:.04,return:.35},Utilities:{weight:.03,return:.05},"Real Estate":{weight:.03,return:.1},Materials:{weight:.03,return:.2},"Index Fund":{weight:.02,return:.24},"Fixed Income":{weight:0,return:.02}};class rr{static calculateAttribution(s){const a=this.calculatePortfolioMetrics(s),r=this.calculateSectorAttributions(s),n=r.reduce((x,d)=>x+d.allocationEffect,0),i=r.reduce((x,d)=>x+d.selectionEffect,0),l=r.reduce((x,d)=>x+d.interactionEffect,0),c=Object.entries(qe).reduce((x,[d,h])=>x+h.weight*h.return,0),m=a.totalReturn-c;return{totalReturn:a.totalReturn,benchmarkReturn:c,activeReturn:m,assetAllocationEffect:n,securitySelectionEffect:i,interactionEffect:l,sectors:r}}static calculatePortfolioMetrics(s){let a=0,r=0;return s.forEach(i=>{const l=i.shares*i.currentPrice,c=i.shares*i.costBasis;a+=l,r+=c}),{totalReturn:r>0?(a-r)/r:0,totalValue:a,totalCost:r}}static calculateSectorAttributions(s){const a=this.groupBySector(s),r=s.reduce((i,l)=>i+l.shares*l.currentPrice,0),n=[];return Object.entries(a).forEach(([i,l])=>{var N,p;const c=l.reduce((v,w)=>v+w.shares*w.currentPrice,0),m=l.reduce((v,w)=>v+w.shares*w.costBasis,0),x=c/r,d=((N=qe[i])==null?void 0:N.weight)||0,h=m>0?(c-m)/m:0,u=((p=qe[i])==null?void 0:p.return)||0,y=(x-d)*u,g=d*(h-u),j=(x-d)*(h-u),o=y+g+j;n.push({sector:i,portfolioWeight:x,benchmarkWeight:d,portfolioReturn:h,benchmarkReturn:u,allocationEffect:y,selectionEffect:g,interactionEffect:j,totalEffect:o})}),n.sort((i,l)=>Math.abs(l.totalEffect)-Math.abs(i.totalEffect))}static groupBySector(s){return s.reduce((a,r)=>{const n=r.sector;return a[n]||(a[n]=[]),a[n].push(r),a},{})}static calculateRollingAttribution(s,a=12){const r=[];for(let n=0;n<a;n++){const i=this.calculateAttribution(s),l=(Math.random()-.5)*.02;i.assetAllocationEffect+=l,i.securitySelectionEffect+=l*.5,r.push(i)}return r}}const ar=({holdings:t})=>{const[s,a]=E.useState("1Y");E.useState(null);const r=rr.calculateAttribution(t),n=(m,x=2)=>`${m>=0?"+":""}${(m*100).toFixed(x)}%`,i=m=>{const x=m*1e4;return`${x>=0?"+":""}${x.toFixed(0)} bps`},l=m=>m>.001?"text-green-600":m<-.001?"text-red-600":"text-gray-600",c=m=>m>.001?e.jsx(D,{className:"h-4 w-4"}):m<-.001?e.jsx(ce,{className:"h-4 w-4"}):e.jsx(O,{className:"h-4 w-4"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(re,{className:"h-6 w-6 mr-2 text-blue-600"}),"Performance Attribution Analysis"]}),e.jsxs("select",{value:s,onChange:m=>a(m.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"1M",children:"1 Month"}),e.jsx("option",{value:"3M",children:"3 Months"}),e.jsx("option",{value:"6M",children:"6 Months"}),e.jsx("option",{value:"1Y",children:"1 Year"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-blue-700 mb-1",children:"Portfolio Return"}),e.jsx("div",{className:"text-2xl font-bold text-blue-900",children:n(r.totalReturn)})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Benchmark Return"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n(r.benchmarkReturn)}),e.jsx("div",{className:"text-xs text-gray-500",children:"S&P 500"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-green-700 mb-1",children:"Active Return"}),e.jsx("div",{className:`text-2xl font-bold ${r.activeReturn>=0?"text-green-600":"text-red-600"}`,children:n(r.activeReturn)}),e.jsx("div",{className:"text-xs text-gray-500",children:"vs Benchmark"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-purple-700 mb-1",children:"Information Ratio"}),e.jsx("div",{className:"text-2xl font-bold text-purple-900",children:(r.activeReturn/.02).toFixed(2)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Risk-Adjusted"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Attribution Breakdown"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(re,{className:"h-5 w-5 text-blue-600 mr-2"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Asset Allocation"})]}),e.jsx("div",{className:`text-xl font-bold ${l(r.assetAllocationEffect)}`,children:i(r.assetAllocationEffect)}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Effect of sector weights vs benchmark"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(ks,{className:"h-5 w-5 text-green-600 mr-2"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Security Selection"})]}),e.jsx("div",{className:`text-xl font-bold ${l(r.securitySelectionEffect)}`,children:i(r.securitySelectionEffect)}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Effect of individual stock picks"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(O,{className:"h-5 w-5 text-purple-600 mr-2"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Interaction"})]}),e.jsx("div",{className:`text-xl font-bold ${l(r.interactionEffect)}`,children:i(r.interactionEffect)}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Combined allocation & selection effects"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(O,{className:"h-5 w-5 mr-2 text-blue-600"}),"Sector Attribution Analysis"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Breakdown of performance attribution by sector"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sector"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Portfolio Weight"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Benchmark Weight"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Portfolio Return"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Benchmark Return"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Allocation Effect"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Selection Effect"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Effect"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.sectors.map((m,x)=>e.jsxs("tr",{className:x%2===0?"bg-white":"bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"font-medium text-gray-900",children:m.sector})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-900",children:n(m.portfolioWeight,1)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-900",children:n(m.benchmarkWeight,1)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm",children:e.jsx("span",{className:l(m.portfolioReturn),children:n(m.portfolioReturn,1)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm text-gray-900",children:n(m.benchmarkReturn,1)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm",children:e.jsxs("div",{className:`flex items-center justify-center ${l(m.allocationEffect)}`,children:[c(m.allocationEffect),e.jsx("span",{className:"ml-1",children:i(m.allocationEffect)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm",children:e.jsxs("div",{className:`flex items-center justify-center ${l(m.selectionEffect)}`,children:[c(m.selectionEffect),e.jsx("span",{className:"ml-1",children:i(m.selectionEffect)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm",children:e.jsxs("div",{className:`flex items-center justify-center font-semibold ${l(m.totalEffect)}`,children:[c(m.totalEffect),e.jsx("span",{className:"ml-1",children:i(m.totalEffect)})]})})]},m.sector))})]})})]}),e.jsx("div",{className:"bg-blue-50 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(ne,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Understanding Performance Attribution"}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Asset Allocation Effect:"})," Measures the impact of over/underweighting sectors relative to the benchmark."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Security Selection Effect:"})," Measures the impact of choosing specific securities within each sector."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Interaction Effect:"})," Captures the combined impact when both allocation and selection decisions work together."]}),e.jsxs("p",{className:"mt-3 text-xs",children:[e.jsx("strong",{children:"Note:"})," Attribution analysis uses the Brinson-Hood-Beebower model with S&P 500 as benchmark. Basis points (bps) measure performance: 100 bps = 1%."]})]})]})]})})]})},Dt=({holdings:t})=>{const[s,a]=E.useState("1y"),[r,n]=E.useState("cap"),[i,l]=E.useState("overview"),c=[{name:"S&P 500",ticker:"SPY",ytdReturn:24.2,oneYearReturn:26.3,threeYearReturn:10.5,fiveYearReturn:13.1,tenYearReturn:12.9,currentPrice:445.5,description:"Tracks the S&P 500 index of large-cap U.S. stocks"},{name:"NASDAQ 100",ticker:"QQQ",ytdReturn:27.8,oneYearReturn:29.1,threeYearReturn:8.9,fiveYearReturn:18.2,tenYearReturn:17.8,currentPrice:398.75,description:"Tracks the NASDAQ-100 index of large-cap technology stocks"},{name:"Russell 2000",ticker:"IWM",ytdReturn:10.8,oneYearReturn:11.5,threeYearReturn:1.2,fiveYearReturn:8.7,tenYearReturn:9.1,currentPrice:218.45,description:"Tracks the Russell 2000 index of small-cap U.S. stocks"},{name:"Total Stock Market",ticker:"VTI",ytdReturn:23.1,oneYearReturn:25.2,threeYearReturn:9.8,fiveYearReturn:12.4,tenYearReturn:12.2,currentPrice:218.75,description:"Tracks the entire U.S. stock market"},{name:"International Developed",ticker:"VEA",ytdReturn:8.9,oneYearReturn:12.4,threeYearReturn:4.2,fiveYearReturn:6.8,tenYearReturn:7.1,currentPrice:52.3,description:"Tracks developed international markets excluding the U.S."}],x=(()=>{let b=0,R=0;return t.forEach(A=>{const P=A.shares*A.currentPrice,W=A.shares*A.costBasis;b+=P,R+=W}),{totalReturn:R>0?(b-R)/R*100:0,ytdReturn:22.5,oneYearReturn:24.8,threeYearReturn:11.2,fiveYearReturn:14.3,tenYearReturn:13.7,sharpeRatio:1.42,volatility:16.8,maxDrawdown:-12.3,beta:1.05}})(),d=()=>{let b=0;t.forEach(P=>{b+=P.shares*P.currentPrice});const R={"Large Cap":0,"Mid Cap":0,"Small Cap":0,Bonds:0,ETFs:0},T={},A={Stocks:0,ETFs:0,Bonds:0};return t.forEach(P=>{const B=P.shares*P.currentPrice/b*100;P.type==="bonds"?R.Bonds+=B:P.type==="etfs"?R.ETFs+=B:P.currentPrice>200?R["Large Cap"]+=B:P.currentPrice>50?R["Mid Cap"]+=B:R["Small Cap"]+=B,T[P.sector]||(T[P.sector]=0),T[P.sector]+=B,P.type==="stocks"?A.Stocks+=B:P.type==="etfs"?A.ETFs+=B:A.Bonds+=B}),{capAllocation:R,sectorAllocation:T,typeAllocation:A}},h=()=>{let b=0,R=0,T=0,A=0,P=0,W=0,B=0;return t.forEach(I=>{const ye=I.shares*I.currentPrice;b+=ye}),t.forEach(I=>{const K=I.shares*I.currentPrice/b;I.type==="stocks"&&(R+=I.pe*K,T+=I.pb*K,A+=I.roe*K,P+=I.debtToEquity*K,B+=I.revenueGrowth*K),I.dividendYield&&(W+=I.dividendYield*K)}),{weightedPE:R,weightedPB:T,weightedROE:A,weightedDebtToEquity:P,weightedDividendYield:W,weightedRevenueGrowth:B}},{capAllocation:u,sectorAllocation:y,typeAllocation:g}=d(),j=h(),o=(b,R)=>{switch(R){case"ytd":return b.ytdReturn;case"1y":return b.oneYearReturn;case"3y":return b.threeYearReturn;case"5y":return b.fiveYearReturn;case"10y":return b.tenYearReturn;default:return b.oneYearReturn}},N=o(x,s),p=b=>`${b>=0?"+":""}${b.toFixed(2)}%`,v=(b,R=2)=>b.toFixed(R),k=(()=>{let b=[];switch(s){case"ytd":const R=new Date().getMonth();b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].slice(0,R+1);break;case"1y":b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];break;case"3y":b=["Q1 2022","Q2 2022","Q3 2022","Q4 2022","Q1 2023","Q2 2023","Q3 2023","Q4 2023","Q1 2024","Q2 2024","Q3 2024","Q4 2024"];break;case"5y":b=["2020","2021","2022","2023","2024"];break;case"10y":b=["2015","2016","2017","2018","2019","2020","2021","2022","2023","2024"];break;default:b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}return b.map((R,T)=>{const A={period:R,portfolio:100+N/12*(T+1)+(Math.random()-.5)*4};return c.forEach(P=>{const W=o(P,s),B=b.length;A[P.ticker]=100+W/B*(T+1)+(Math.random()-.5)*3}),A})})(),C=(()=>{switch(r){case"cap":return Object.entries(u).filter(([b,R])=>R>0);case"sector":return Object.entries(y).filter(([b,R])=>R>0);case"type":return Object.entries(g).filter(([b,R])=>R>0);default:return Object.entries(u).filter(([b,R])=>R>0)}})(),$=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6B7280"];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8",children:[{id:"overview",label:"Performance Overview",icon:D},{id:"attribution",label:"Attribution Analysis",icon:re},{id:"risk",label:"Risk Analytics",icon:O}].map(b=>{const R=b.icon;return e.jsxs("button",{onClick:()=>l(b.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center transition-colors ${i===b.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),b.label]},b.id)})})}),i==="attribution"&&e.jsx(ar,{holdings:t}),i==="overview"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(D,{className:"h-8 w-8 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Total Return"}),e.jsx("div",{className:`text-2xl font-bold ${x.totalReturn>=0?"text-green-600":"text-red-600"}`,children:p(x.totalReturn)})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(re,{className:"h-8 w-8 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Sharpe Ratio"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:v(x.sharpeRatio)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Risk-adjusted return"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(O,{className:"h-8 w-8 text-orange-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Volatility"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:p(x.volatility)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Annual standard deviation"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ce,{className:"h-8 w-8 text-red-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Max Drawdown"}),e.jsx("div",{className:"text-2xl font-bold text-red-600",children:p(x.maxDrawdown)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Largest peak-to-trough decline"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(ue,{className:"h-5 w-5 mr-2 text-blue-600"}),"Asset Allocation"]}),e.jsxs("select",{value:r,onChange:b=>n(b.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"cap",children:"By Market Cap"}),e.jsx("option",{value:"sector",children:"By Sector"}),e.jsx("option",{value:"type",children:"By Asset Type"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"relative w-64 h-64",children:e.jsx("svg",{viewBox:"0 0 200 200",className:"w-full h-full transform -rotate-90",children:C.reduce((b,[R,T],A)=>{const P=b.currentAngle,W=T/100*360,B=P+W,I=100+80*Math.cos(P*Math.PI/180),ye=100+80*Math.sin(P*Math.PI/180),K=100+80*Math.cos(B*Math.PI/180),os=100+80*Math.sin(B*Math.PI/180),ds=W>180?1:0,xs=["M 100 100",`L ${I} ${ye}`,`A 80 80 0 ${ds} 1 ${K} ${os}`,"Z"].join(" ");return b.elements.push(e.jsx("path",{d:xs,fill:$[A%$.length],className:"hover:opacity-80 transition-opacity"},R)),b.currentAngle=B,b},{elements:[],currentAngle:0}).elements})})}),e.jsx("div",{className:"space-y-3",children:C.map(([b,R],T)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:$[T%$.length]}}),e.jsx("span",{className:"font-medium text-gray-900",children:b})]}),e.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:[R.toFixed(1),"%"]})]},b))})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(Es,{className:"h-5 w-5 mr-2 text-blue-600"}),"Key Portfolio Metrics"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 border-b border-gray-200 pb-2",children:"Valuation"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Weighted P/E Ratio"}),e.jsx("span",{className:"font-semibold text-gray-900",children:j.weightedPE.toFixed(1)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Weighted P/B Ratio"}),e.jsx("span",{className:"font-semibold text-gray-900",children:j.weightedPB.toFixed(1)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Dividend Yield"}),e.jsxs("span",{className:"font-semibold text-green-600",children:[j.weightedDividendYield.toFixed(2),"%"]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 border-b border-gray-200 pb-2",children:"Profitability"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Weighted ROE"}),e.jsxs("span",{className:"font-semibold text-green-600",children:[j.weightedROE.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Revenue Growth"}),e.jsxs("span",{className:"font-semibold text-blue-600",children:[j.weightedRevenueGrowth.toFixed(1),"%"]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 border-b border-gray-200 pb-2",children:"Risk"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Debt/Equity Ratio"}),e.jsx("span",{className:"font-semibold text-gray-900",children:j.weightedDebtToEquity.toFixed(2)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Portfolio Beta"}),e.jsx("span",{className:"font-semibold text-gray-900",children:x.beta.toFixed(2)})]})]})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Portfolio vs Market Averages"}),e.jsx("div",{className:"space-y-4",children:[{label:"P/E Ratio",portfolio:j.weightedPE,market:21.5,unit:""},{label:"P/B Ratio",portfolio:j.weightedPB,market:3.2,unit:""},{label:"ROE",portfolio:j.weightedROE,market:15.8,unit:"%"},{label:"Dividend Yield",portfolio:j.weightedDividendYield,market:1.8,unit:"%"},{label:"Revenue Growth",portfolio:j.weightedRevenueGrowth,market:6.2,unit:"%"}].map(b=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700",children:b.label}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("span",{className:"text-blue-600",children:["Portfolio: ",b.portfolio.toFixed(1),b.unit]}),e.jsxs("span",{className:"text-gray-500",children:["Market: ",b.market,b.unit]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(b.portfolio/(Math.max(b.portfolio,b.market)*1.2)*100,100)}%`}})}),e.jsx("div",{className:"absolute top-0 w-1 h-2 bg-gray-500",style:{left:`${Math.min(b.market/(Math.max(b.portfolio,b.market)*1.2)*100,100)}%`}})]})]},b.label))})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(Ss,{className:"h-5 w-5 mr-2 text-blue-600"}),"Performance vs Benchmarks"]}),e.jsx("div",{children:e.jsxs("select",{value:s,onChange:b=>a(b.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"ytd",children:"Year to Date"}),e.jsx("option",{value:"1y",children:"1 Year"}),e.jsx("option",{value:"3y",children:"3 Years"}),e.jsx("option",{value:"5y",children:"5 Years"}),e.jsx("option",{value:"10y",children:"10 Years"})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Your Portfolio"}),e.jsx("div",{className:`text-2xl font-bold ${N>=0?"text-green-600":"text-red-600"}`,children:p(N)})]}),c.map((b,R)=>{const T=o(b,s),A=N-T,P=["bg-gray-50","bg-green-50","bg-purple-50","bg-orange-50","bg-indigo-50"];return e.jsxs("div",{className:`text-center p-4 ${P[R%P.length]} rounded-lg`,children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 mb-1",children:b.ticker}),e.jsx("div",{className:`text-lg font-bold ${T>=0?"text-green-600":"text-red-600"}`,children:p(T)}),e.jsxs("div",{className:`text-xs ${A>=0?"text-green-600":"text-red-600"}`,children:[A>=0?"+":"",p(A)," vs you"]})]},b.ticker)})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:c.map(b=>e.jsxs("div",{className:"text-sm text-gray-600 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"font-semibold text-gray-900 mb-1",children:[b.name," (",b.ticker,")"]}),e.jsx("div",{children:b.description})]},b.ticker))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(O,{className:"h-5 w-5 mr-2 text-blue-600"}),"Performance Chart (",s.toUpperCase(),")"]}),e.jsxs("div",{className:"h-80 bg-gray-50 rounded-lg p-4 relative",children:[e.jsxs("svg",{viewBox:"0 0 800 300",className:"w-full h-full",children:[[0,1,2,3,4,5].map(b=>e.jsx("line",{x1:"60",y1:50+b*40,x2:"750",y2:50+b*40,stroke:"#e5e7eb",strokeWidth:"1"},`grid-${b}`)),[0,1,2,3,4,5].map(b=>e.jsxs("text",{x:"50",y:55+b*40,textAnchor:"end",className:"text-xs fill-gray-500",children:[125-b*10,"%"]},`y-label-${b}`)),k.map((b,R)=>(s==="3y"?R%2===0:s==="5y"?!0:s==="10y"?R%2===0:!0)?e.jsx("text",{x:60+R*(690/(k.length-1)),y:"280",textAnchor:"middle",className:"text-xs fill-gray-500",children:b.period},`x-label-${R}`):null),e.jsx("polyline",{fill:"none",stroke:"#3B82F6",strokeWidth:"3",points:k.map((b,R)=>`${60+R*(690/(k.length-1))},${250-(b.portfolio-75)*4}`).join(" ")}),c.map((b,R)=>{const T=["#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4"];return e.jsx("polyline",{fill:"none",stroke:T[R%T.length],strokeWidth:"2",strokeDasharray:R>0?"5,5":"none",points:k.map((A,P)=>`${60+P*(690/(k.length-1))},${250-(A[b.ticker]-75)*4}`).join(" ")},b.ticker)})]}),e.jsx("div",{className:"absolute bottom-4 left-4 bg-white p-3 rounded-lg shadow-sm border",children:e.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),e.jsx("span",{children:"Your Portfolio"})]}),c.map((b,R)=>{const T=["#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4"];return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:T[R%T.length]}}),e.jsx("span",{children:b.ticker})]},b.ticker)})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(se,{className:"h-5 w-5 mr-2 text-blue-600"}),"All Benchmarks Comparison"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Benchmark"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"YTD"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"1 Year"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"3 Years"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"5 Years"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"10 Years"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[e.jsxs("tr",{className:"bg-blue-50",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Your Portfolio"})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`text-sm font-medium ${x.ytdReturn>=0?"text-green-600":"text-red-600"}`,children:p(x.ytdReturn)})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`text-sm font-medium ${x.oneYearReturn>=0?"text-green-600":"text-red-600"}`,children:p(x.oneYearReturn)})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`text-sm font-medium ${x.threeYearReturn>=0?"text-green-600":"text-red-600"}`,children:p(x.threeYearReturn)})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`text-sm font-medium ${x.fiveYearReturn>=0?"text-green-600":"text-red-600"}`,children:p(x.fiveYearReturn)})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`text-sm font-medium ${x.tenYearReturn>=0?"text-green-600":"text-red-600"}`,children:p(x.tenYearReturn)})})]}),c.map((b,R)=>e.jsxs("tr",{className:R%2===0?"bg-white":"bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.name}),e.jsx("div",{className:"text-sm text-gray-500",children:b.ticker})]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`text-sm ${b.ytdReturn>=0?"text-green-600":"text-red-600"}`,children:p(b.ytdReturn)})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`text-sm ${b.oneYearReturn>=0?"text-green-600":"text-red-600"}`,children:p(b.oneYearReturn)})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`text-sm ${b.threeYearReturn>=0?"text-green-600":"text-red-600"}`,children:p(b.threeYearReturn)})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`text-sm ${b.fiveYearReturn>=0?"text-green-600":"text-red-600"}`,children:p(b.fiveYearReturn)})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`text-sm ${b.tenYearReturn>=0?"text-green-600":"text-red-600"}`,children:p(b.tenYearReturn)})})]},b.ticker))]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Risk Metrics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Beta"}),e.jsx("div",{className:"text-xl font-bold text-gray-900",children:v(x.beta)}),e.jsx("div",{className:"text-xs text-gray-500",children:"vs S&P 500"})]}),e.jsxs("div",{className:"text-center p-4 border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Sharpe Ratio"}),e.jsx("div",{className:"text-xl font-bold text-gray-900",children:v(x.sharpeRatio)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Risk-adjusted return"})]}),e.jsxs("div",{className:"text-center p-4 border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Volatility"}),e.jsx("div",{className:"text-xl font-bold text-gray-900",children:p(x.volatility)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Annual std deviation"})]}),e.jsxs("div",{className:"text-center p-4 border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Max Drawdown"}),e.jsx("div",{className:"text-xl font-bold text-red-600",children:p(x.maxDrawdown)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Worst decline"})]})]})]})]}),i==="risk"&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Risk Analytics"}),e.jsx("p",{className:"text-gray-600",children:"Advanced risk analytics coming soon..."})]})]})},Ot=({holdings:t})=>{const[s,a]=E.useState(null),[r,n]=E.useState({}),i={taxable:{displayName:"Taxable Brokerage",icon:G,description:"Standard investment account with no contribution limits",taxTreatment:"Taxed on dividends, interest, and capital gains",contributionLimit:"No limit",withdrawalRules:"No restrictions",taxBenefits:["Tax-loss harvesting opportunities","Flexible access to funds"],color:"#3B82F6"},"401k":{displayName:"401(k)",icon:Xe,description:"Employer-sponsored retirement plan with tax advantages",taxTreatment:"Pre-tax contributions, taxed on withdrawal",contributionLimit:"$23,000 (2024), $30,500 if 50+",withdrawalRules:"Penalty before 59½, RMDs at 73",taxBenefits:["Tax-deferred growth","Employer matching","Lower current taxable income"],color:"#10B981"},traditional_ira:{displayName:"Traditional IRA",icon:H,description:"Individual retirement account with tax-deferred growth",taxTreatment:"Pre-tax contributions (if eligible), taxed on withdrawal",contributionLimit:"$7,000 (2024), $8,000 if 50+",withdrawalRules:"Penalty before 59½, RMDs at 73",taxBenefits:["Tax-deferred growth","Potential tax deduction"],color:"#F59E0B"},roth_ira:{displayName:"Roth IRA",icon:D,description:"Individual retirement account with tax-free growth",taxTreatment:"After-tax contributions, tax-free withdrawals in retirement",contributionLimit:"$7,000 (2024), $8,000 if 50+",withdrawalRules:"Contributions withdrawable anytime, earnings after 59½",taxBenefits:["Tax-free growth","Tax-free withdrawals","No RMDs"],color:"#EF4444"},hsa:{displayName:"Health Savings Account",icon:Cs,description:"Triple tax-advantaged account for medical expenses",taxTreatment:"Pre-tax contributions, tax-free growth and withdrawals for medical",contributionLimit:"$4,300 individual, $8,550 family (2024)",withdrawalRules:"Tax-free for medical expenses, penalty for non-medical before 65",taxBenefits:["Triple tax advantage","Investment growth potential","Retirement healthcare fund"],color:"#8B5CF6"},sep_ira:{displayName:"SEP-IRA",icon:we,description:"Simplified Employee Pension for self-employed and small business",taxTreatment:"Pre-tax contributions, taxed on withdrawal",contributionLimit:"Up to 25% of compensation or $69,000 (2024)",withdrawalRules:"Penalty before 59½, RMDs at 73",taxBenefits:["High contribution limits","Tax-deferred growth","Business tax deduction"],color:"#06B6D4"},simple_ira:{displayName:"SIMPLE IRA",icon:le,description:"Savings Incentive Match Plan for small employers",taxTreatment:"Pre-tax contributions, taxed on withdrawal",contributionLimit:"$16,000 (2024), $19,500 if 50+",withdrawalRules:"Higher penalty in first 2 years, RMDs at 73",taxBenefits:["Employer matching","Tax-deferred growth","Lower administrative costs"],color:"#84CC16"},529:{displayName:"529 Education",icon:Ps,description:"Tax-advantaged savings plan for education expenses",taxTreatment:"After-tax contributions, tax-free growth for education",contributionLimit:"Varies by state, typically $300,000+",withdrawalRules:"Tax-free for qualified education expenses",taxBenefits:["Tax-free growth","State tax deductions (varies)","Education expense flexibility"],color:"#F97316"},cash_money_market:{displayName:"Cash & Money Market",icon:Ts,description:"Liquid cash reserves and money market funds",taxTreatment:"Taxed on interest income",contributionLimit:"No limit",withdrawalRules:"Immediate access",taxBenefits:["Liquidity","Capital preservation","Emergency fund"],color:"#6B7280"},trust:{displayName:"Trust Account",icon:H,description:"Assets held in trust for beneficiaries",taxTreatment:"Varies by trust type",contributionLimit:"Varies by trust terms",withdrawalRules:"Per trust agreement",taxBenefits:["Estate planning","Asset protection","Tax efficiency (varies)"],color:"#EC4899"},custodial:{displayName:"Custodial Account",icon:we,description:"UTMA/UGMA accounts for minors",taxTreatment:"Taxed at child's rate (kiddie tax rules apply)",contributionLimit:"Gift tax limits apply",withdrawalRules:"For benefit of minor, control transfers at majority",taxBenefits:["Potential tax savings","Educational funding","Gift tax benefits"],color:"#14B8A6"}},c=(()=>{const u={};return Object.entries(i).forEach(([y,g])=>{u[y]={accountType:y,displayName:g.displayName,icon:g.icon,description:g.description,taxTreatment:g.taxTreatment,totalValue:0,totalCost:0,gainLoss:0,gainLossPercent:0,holdings:[],contributionLimit:g.contributionLimit,withdrawalRules:g.withdrawalRules,taxBenefits:g.taxBenefits,color:g.color}}),t.forEach(y=>{const g=y.accountType;if(u[g]){const j=y.shares*y.currentPrice,o=y.shares*y.costBasis;u[g].totalValue+=j,u[g].totalCost+=o,u[g].holdings.push(y)}}),Object.values(u).forEach(y=>{y.gainLoss=y.totalValue-y.totalCost,y.gainLossPercent=y.totalCost>0?y.gainLoss/y.totalCost*100:0}),Object.values(u).filter(y=>y.holdings.length>0)})(),m=c.reduce((u,y)=>u+y.totalValue,0),x=u=>`$${u.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,d=u=>`${u>=0?"+":""}${u.toFixed(2)}%`,h=u=>{n(y=>Q(U({},y),{[u]:!y[u]}))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(O,{className:"h-5 w-5 mr-2 text-blue-600"}),"Account Performance Summary"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Balance"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost Basis"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"YTD %"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"1YR %"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"3YR %"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"5YR %"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"10YR %"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"% of Portfolio"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tax Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((u,y)=>{const g=u.totalValue/m*100,j=u.gainLossPercent*.8,o=u.totalValue*(j/100),N=u.gainLossPercent*.9,p=u.gainLossPercent*.6,v=u.gainLossPercent*.4,w=u.gainLossPercent*.3,k=C=>{switch(C){case"taxable":return"Taxable";case"401k":return"Tax-Deferred";case"traditional_ira":return"Tax-Deferred";case"roth_ira":return"Tax-Free";case"hsa":return"Tax-Free";case"sep_ira":return"Tax-Deferred";case"simple_ira":return"Tax-Deferred";case"529":return"Tax-Free (Education)";case"cash_money_market":return"Taxable";case"trust":return"Varies";case"custodial":return"Taxable (Child)";default:return"Unknown"}},M=C=>{switch(C){case"taxable":case"cash_money_market":case"custodial":return"bg-red-100 text-red-800";case"401k":case"traditional_ira":case"sep_ira":case"simple_ira":return"bg-yellow-100 text-yellow-800";case"roth_ira":case"hsa":case"529":return"bg-green-100 text-green-800";case"trust":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("tr",{className:y%2===0?"bg-white":"bg-gray-50",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:`${u.color}20`,color:u.color},children:e.jsx(u.icon,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:u.displayName}),e.jsxs("div",{className:"text-xs text-gray-500",children:[u.holdings.length," holdings"]})]})]})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right",children:e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:x(u.totalValue)})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right",children:e.jsx("div",{className:"text-sm text-gray-600",children:x(u.totalCost)})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-right",children:[e.jsx("div",{className:`text-sm font-medium ${j>=0?"text-green-600":"text-red-600"}`,children:d(j)}),e.jsxs("div",{className:`text-xs ${j>=0?"text-green-600":"text-red-600"}`,children:[j>=0?"+":"",x(o)]})]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right",children:e.jsx("div",{className:`text-sm font-medium ${N>=0?"text-green-600":"text-red-600"}`,children:d(N)})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right",children:e.jsx("div",{className:`text-sm font-medium ${p>=0?"text-green-600":"text-red-600"}`,children:d(p)})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right",children:e.jsx("div",{className:`text-sm font-medium ${v>=0?"text-green-600":"text-red-600"}`,children:d(v)})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right",children:e.jsx("div",{className:`text-sm font-medium ${w>=0?"text-green-600":"text-red-600"}`,children:d(w)})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[g.toFixed(1),"%"]})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${M(u.accountType)}`,children:k(u.accountType)})})]},u.accountType)})}),e.jsx("tfoot",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-gray-900",children:"Total Portfolio"}),e.jsx("td",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-900",children:x(m)}),e.jsx("td",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-600",children:x(c.reduce((u,y)=>u+y.totalCost,0))}),e.jsxs("td",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-900",children:[e.jsx("div",{className:"text-green-600",children:"+18.4%"}),e.jsxs("div",{className:"text-xs text-green-600",children:["+$",(m*.184).toLocaleString()]})]}),e.jsx("td",{className:"px-4 py-3 text-right text-sm font-semibold text-green-600",children:"+22.1%"}),e.jsx("td",{className:"px-4 py-3 text-right text-sm font-semibold text-green-600",children:"+11.8%"}),e.jsx("td",{className:"px-4 py-3 text-right text-sm font-semibold text-green-600",children:"+13.2%"}),e.jsx("td",{className:"px-4 py-3 text-right text-sm font-semibold text-green-600",children:"+12.7%"}),e.jsx("td",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-900",children:"100.0%"}),e.jsx("td",{className:"px-4 py-3"})]})})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(ue,{className:"h-5 w-5 mr-2 text-blue-600"}),"Account Allocation Overview"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"relative w-64 h-64",children:e.jsx("svg",{viewBox:"0 0 200 200",className:"w-full h-full transform -rotate-90",children:c.reduce((u,y,g)=>{const j=y.totalValue/m*100,o=u.currentAngle,N=j/100*360,p=o+N,v=100+80*Math.cos(o*Math.PI/180),w=100+80*Math.sin(o*Math.PI/180),k=100+80*Math.cos(p*Math.PI/180),M=100+80*Math.sin(p*Math.PI/180),C=N>180?1:0,$=["M 100 100",`L ${v} ${w}`,`A 80 80 0 ${C} 1 ${k} ${M}`,"Z"].join(" ");return u.elements.push(e.jsx("path",{d:$,fill:y.color,className:"hover:opacity-80 transition-opacity cursor-pointer",onClick:()=>a(y.accountType)},y.accountType)),u.currentAngle=p,u},{elements:[],currentAngle:0}).elements})})}),e.jsx("div",{className:"space-y-3",children:c.map(u=>{const y=u.totalValue/m*100;return e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all ${s===u.accountType?"bg-blue-50 border border-blue-200":"bg-gray-50 hover:bg-gray-100"}`,onClick:()=>a(s===u.accountType?null:u.accountType),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:u.color}}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:u.displayName}),e.jsxs("div",{className:"text-sm text-gray-500",children:[u.holdings.length," holdings"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:x(u.totalValue)}),e.jsxs("div",{className:"text-sm text-gray-500",children:[y.toFixed(1),"%"]})]})]},u.accountType)})})]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:c.map(u=>{const y=u.icon,g=r[u.accountType];return e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:`${u.color}20`,color:u.color},children:e.jsx(y,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:u.displayName}),e.jsxs("p",{className:"text-sm text-gray-500",children:[u.holdings.length," holdings"]})]})]}),e.jsx("button",{onClick:()=>h(u.accountType),className:"text-gray-400 hover:text-gray-600 transition-colors",children:g?e.jsx(wt,{className:"h-5 w-5"}):e.jsx(Rt,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Total Value"}),e.jsx("div",{className:"text-xl font-bold text-gray-900",children:x(u.totalValue)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Gain/Loss"}),e.jsx("div",{className:`text-xl font-bold ${u.gainLoss>=0?"text-green-600":"text-red-600"}`,children:x(u.gainLoss)}),e.jsx("div",{className:`text-sm ${u.gainLoss>=0?"text-green-600":"text-red-600"}`,children:d(u.gainLossPercent)})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:u.description}),g&&e.jsxs("div",{className:"space-y-4 border-t border-gray-200 pt-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Tax Treatment"}),e.jsx("p",{className:"text-sm text-gray-600",children:u.taxTreatment})]}),u.contributionLimit&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Contribution Limit"}),e.jsx("p",{className:"text-sm text-gray-600",children:u.contributionLimit})]}),u.withdrawalRules&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Withdrawal Rules"}),e.jsx("p",{className:"text-sm text-gray-600",children:u.withdrawalRules})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Tax Benefits"}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:u.taxBenefits.map((j,o)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"•"}),j]},o))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Holdings"}),e.jsx("div",{className:"space-y-2",children:u.holdings.map(j=>{const o=j.shares*j.currentPrice,N=j.shares*j.costBasis,p=o-N,v=N>0?p/N*100:0;return e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm text-gray-900",children:j.ticker}),e.jsxs("div",{className:"text-xs text-gray-500",children:[j.shares," shares"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:x(o)}),e.jsx("div",{className:`text-xs ${p>=0?"text-green-600":"text-red-600"}`,children:d(v)})]})]},j.id)})})]})]})]})},u.accountType)})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(ne,{className:"h-5 w-5 mr-2 text-blue-600"}),"Account Types Guide"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(i).map(([u,y])=>{const g=y.icon,j=c.some(o=>o.accountType===u);return e.jsxs("div",{className:`border rounded-lg p-4 ${j?"border-blue-200 bg-blue-50":"border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(g,{className:`h-5 w-5 ${j?"text-blue-600":"text-gray-500"}`}),e.jsx("h4",{className:`font-medium ${j?"text-blue-900":"text-gray-900"}`,children:y.displayName})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:y.description}),e.jsxs("div",{className:"text-xs text-gray-500",children:[e.jsx("strong",{children:"Tax:"})," ",y.taxTreatment]}),y.contributionLimit&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[e.jsx("strong",{children:"Limit:"})," ",y.contributionLimit]})]},u)})})]})]})},Bt=({holdings:t})=>{const[s,a]=E.useState("2024"),r=[{id:"1",ticker:"JNJ",company:"Johnson & Johnson",amount:247.2,exDate:"2024-07-10",payDate:"2024-07-15",yield:2.98,frequency:"quarterly"},{id:"2",ticker:"KO",company:"Coca-Cola",amount:187.5,exDate:"2024-07-12",payDate:"2024-07-18",yield:3.12,frequency:"quarterly"},{id:"3",ticker:"PG",company:"Procter & Gamble",amount:156.8,exDate:"2024-07-15",payDate:"2024-07-22",yield:2.45,frequency:"quarterly"},{id:"4",ticker:"SCHD",company:"Schwab Dividend ETF",amount:312.45,exDate:"2024-07-18",payDate:"2024-07-25",yield:3.45,frequency:"quarterly"},{id:"5",ticker:"REITS",company:"REIT Portfolio",amount:343.88,exDate:"2024-07-20",payDate:"2024-07-28",yield:4.12,frequency:"monthly"}],n=[{month:"Jan 2024",amount:1234.56,yoyGrowth:8.2},{month:"Feb 2024",amount:1187.92,yoyGrowth:12.4},{month:"Mar 2024",amount:1456.78,yoyGrowth:15.1},{month:"Apr 2024",amount:1298.43,yoyGrowth:9.7},{month:"May 2024",amount:1367.89,yoyGrowth:11.3},{month:"Jun 2024",amount:1423.12,yoyGrowth:14.6}],l=(()=>{let d=0;t.forEach(o=>{if(o.dividend&&o.dividend>0){const N=o.shares*o.dividend;d+=N}o.shares*o.currentPrice});const h=d/12;let u=0;t.forEach(o=>{o.dividend&&o.dividend>0&&(u+=o.shares*o.costBasis)});const y=u>0?d/u*100:0;let g=0;return t.forEach(o=>{if(o.dividend&&o.dividend>0){const N=o.shares*o.dividend/4;g+=N}}),{totalAnnualDividends:d,monthlyAverage:h,nextPayment:g,nextPaymentDate:"2024-07-15",yieldOnCost:y}})(),c=d=>`$${d.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,m=d=>`${d.toFixed(2)}%`,x=d=>new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg border border-green-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(G,{className:"h-8 w-8 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-green-700",children:"Annual Dividends"}),e.jsx("div",{className:"text-2xl font-bold text-green-900",children:c(l.totalAnnualDividends)}),e.jsx("div",{className:"text-sm text-green-600",children:"Projected for 2024"})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(se,{className:"h-8 w-8 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-blue-700",children:"Monthly Average"}),e.jsx("div",{className:"text-2xl font-bold text-blue-900",children:c(l.monthlyAverage)}),e.jsx("div",{className:"text-sm text-blue-600",children:"Average per month"})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg border border-purple-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(As,{className:"h-8 w-8 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-purple-700",children:"Next Payment"}),e.jsx("div",{className:"text-2xl font-bold text-purple-900",children:c(l.nextPayment)}),e.jsx("div",{className:"text-sm text-purple-600",children:x(l.nextPaymentDate)})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg border border-yellow-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(D,{className:"h-8 w-8 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-yellow-700",children:"Yield on Cost"}),e.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:m(l.yieldOnCost)}),e.jsx("div",{className:"text-sm text-yellow-600",children:"Based on purchase price"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-semibold text-green-600 flex items-center",children:[e.jsx(Fs,{className:"h-5 w-5 mr-2"}),"Upcoming Dividend Payments"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Symbol"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ex-Date"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pay Date"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Yield"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map((d,h)=>e.jsxs("tr",{className:h%2===0?"bg-white":"bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm font-bold text-green-600",children:d.ticker})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.company})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:"text-sm font-semibold text-green-600",children:c(d.amount)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:"inline-flex px-3 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:x(d.exDate)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:"inline-flex px-3 py-1 text-xs font-medium rounded-full bg-purple-100 text-purple-800",children:x(d.payDate)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:"text-sm font-medium text-blue-600",children:m(d.yield)})})]},d.id))})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-600 flex items-center",children:[e.jsx(se,{className:"h-5 w-5 mr-2"}),"Dividend Payment History"]}),e.jsxs("select",{value:s,onChange:d=>a(d.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"2024",children:"2024"}),e.jsx("option",{value:"2023",children:"2023"}),e.jsx("option",{value:"2022",children:"2022"})]})]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((d,h)=>e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:d.month}),e.jsx(D,{className:"h-4 w-4 text-green-500"})]}),e.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:c(d.amount)}),e.jsxs("div",{className:"text-sm text-green-600",children:["+",m(d.yoyGrowth)," YoY growth"]})]},d.month))})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(pe,{className:"h-5 w-5 mr-2 text-blue-600"}),"Dividend-Paying Holdings"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Holding"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shares"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dividend per Share"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Annual Income"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Yield"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Yield on Cost"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.filter(d=>d.dividend&&d.dividend>0).sort((d,h)=>h.shares*(h.dividend||0)-d.shares*(d.dividend||0)).map((d,h)=>{const u=d.shares*(d.dividend||0),y=d.dividendYield||0,g=d.costBasis>0?(d.dividend||0)/d.costBasis*100:0;return e.jsxs("tr",{className:h%2===0?"bg-white":"bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-blue-600",children:d.ticker}),e.jsx("div",{className:"text-sm text-gray-500",children:d.company})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900",children:d.shares.toLocaleString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900",children:c(d.dividend||0)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium text-green-600",children:c(u)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-blue-600",children:m(y)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium text-green-600",children:m(g)})]},d.id)})})]})})]})]})},Lt=({transactions:t,onEdit:s,onDelete:a})=>{const[r,n]=E.useState("all"),[i,l]=E.useState(""),[c,m]=E.useState("date"),[x,d]=E.useState("desc"),h={buy:"Buy",sell:"Sell",dividend:"Dividend",split:"Stock Split",spinoff:"Spinoff",merger:"Merger",rights:"Rights",return_of_capital:"Return of Capital",fee:"Fee",interest:"Interest"},u={buy:"bg-green-100 text-green-800",sell:"bg-red-100 text-red-800",dividend:"bg-blue-100 text-blue-800",split:"bg-purple-100 text-purple-800",spinoff:"bg-orange-100 text-orange-800",merger:"bg-indigo-100 text-indigo-800",rights:"bg-teal-100 text-teal-800",return_of_capital:"bg-gray-100 text-gray-800",fee:"bg-red-100 text-red-800",interest:"bg-green-100 text-green-800"},y=t.filter(p=>{const v=r==="all"||p.type===r,w=i===""||p.ticker.toLowerCase().includes(i.toLowerCase());return v&&w}).sort((p,v)=>{const w=p[c],k=v[c];return typeof w=="string"&&typeof k=="string"?x==="asc"?w.localeCompare(k):k.localeCompare(w):x==="asc"?w-k:k-w}),g=p=>`$${Math.abs(p).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,j=p=>new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),o=p=>{c===p?d(x==="asc"?"desc":"asc"):(m(p),d("asc"))},N=Array.from(new Set(t.map(p=>p.type)));return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(se,{className:"h-5 w-5 mr-2 text-blue-600"}),"Transaction History"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[y.length," of ",t.length," transactions"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by ticker...",value:i,onChange:p=>l(p.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ds,{className:"h-4 w-4 text-gray-400"}),e.jsxs("select",{value:r,onChange:p=>n(p.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Types"}),N.map(p=>e.jsx("option",{value:p,children:h[p]},p))]})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>o("date"),children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>o("ticker"),children:"Ticker"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>o("type"),children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>o("amount"),children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map((p,v)=>e.jsxs("tr",{className:v%2===0?"bg-white":"bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(p.date)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:p.ticker}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${u[p.type]}`,children:h[p.type]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[p.shares&&e.jsxs("div",{children:[p.shares," shares @ ",g(p.price||0)]}),p.splitRatio&&e.jsxs("div",{children:["Split: ",p.splitRatio]}),p.newTicker&&e.jsxs("div",{children:["New ticker: ",p.newTicker]}),p.fees&&p.fees>0&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Fees: ",g(p.fees)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:`${["buy","fee"].includes(p.type)?"text-red-600":"text-green-600"}`,children:[["buy","fee"].includes(p.type)?"-":"+",g(p.amount)]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs",children:e.jsx("div",{className:"truncate",title:p.notes,children:p.notes||"-"})})]},p.id))})]})}),y.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(se,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No transactions found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:t.length===0?"Start by adding your first transaction.":"Try adjusting your search or filter criteria."})]})]})},$t=({onClose:t,onAdd:s,existingTickers:a})=>{const[r,n]=E.useState({ticker:"",type:"buy",date:new Date().toISOString().split("T")[0],shares:0,price:0,amount:0,fees:0,notes:"",splitRatio:"",newTicker:""}),i=[{value:"buy",label:"Buy",icon:Ke,color:"text-green-600",description:"Purchase shares"},{value:"sell",label:"Sell",icon:ce,color:"text-red-600",description:"Sell shares"},{value:"dividend",label:"Dividend",icon:G,color:"text-blue-600",description:"Dividend payment received"},{value:"split",label:"Stock Split",icon:Os,color:"text-purple-600",description:"Stock split adjustment"},{value:"spinoff",label:"Spinoff",icon:we,color:"text-orange-600",description:"Company spinoff"},{value:"merger",label:"Merger",icon:we,color:"text-indigo-600",description:"Company merger"},{value:"rights",label:"Rights Offering",icon:Bs,color:"text-teal-600",description:"Rights offering participation"},{value:"return_of_capital",label:"Return of Capital",icon:pe,color:"text-gray-600",description:"Return of capital distribution"},{value:"fee",label:"Fee",icon:Ls,color:"text-red-500",description:"Account or transaction fee"},{value:"interest",label:"Interest",icon:D,color:"text-green-500",description:"Interest payment received"}],l=i.find(g=>g.type===r.type),c=g=>{g.preventDefault();const j={ticker:r.ticker.toUpperCase(),type:r.type,date:r.date,amount:r.amount,fees:r.fees||0,notes:r.notes||void 0};["buy","sell","rights"].includes(r.type)&&(j.shares=r.shares,j.price=r.price),r.type==="split"&&(j.splitRatio=r.splitRatio),["spinoff","merger"].includes(r.type)&&(j.newTicker=r.newTicker),s(j),t()},m=g=>{const{name:j,value:o}=g.target;n(N=>Q(U({},N),{[j]:["shares","price","amount","fees"].includes(j)?parseFloat(o)||0:o}))},x=()=>{if(["buy","sell"].includes(r.type)&&r.shares&&r.price){const g=r.shares*r.price,j=r.type==="buy"?g+(r.fees||0):g-(r.fees||0);n(o=>Q(U({},o),{amount:j}))}};X.useEffect(()=>{x()},[r.shares,r.price,r.fees,r.type]);const d=["buy","sell","rights"].includes(r.type),h=["buy","sell","rights"].includes(r.type),u=r.type==="split",y=["spinoff","merger"].includes(r.type);return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Add Transaction"}),e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(kt,{className:"h-6 w-6"})})]}),e.jsxs("form",{onSubmit:c,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Transaction Type"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:i.map(g=>{const j=g.icon;return e.jsxs("button",{type:"button",onClick:()=>n(o=>Q(U({},o),{type:g.value})),className:`p-3 border-2 rounded-lg text-left transition-all hover:shadow-md ${r.type===g.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(j,{className:`h-4 w-4 ${g.color}`}),e.jsx("span",{className:"font-medium text-sm",children:g.label})]}),e.jsx("p",{className:"text-xs text-gray-500",children:g.description})]},g.value)})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ticker Symbol *"}),e.jsx("input",{type:"text",name:"ticker",value:r.ticker,onChange:m,required:!0,placeholder:"e.g., AAPL",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 uppercase",list:"existing-tickers"}),e.jsx("datalist",{id:"existing-tickers",children:a.map(g=>e.jsx("option",{value:g},g))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Type *"}),e.jsxs("select",{name:"accountType",value:r.accountType||"taxable",onChange:m,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"taxable",children:"Taxable Brokerage"}),e.jsx("option",{value:"401k",children:"401(k)"}),e.jsx("option",{value:"traditional_ira",children:"Traditional IRA"}),e.jsx("option",{value:"roth_ira",children:"Roth IRA"}),e.jsx("option",{value:"hsa",children:"Health Savings Account"}),e.jsx("option",{value:"sep_ira",children:"SEP-IRA"}),e.jsx("option",{value:"simple_ira",children:"SIMPLE IRA"}),e.jsx("option",{value:"529",children:"529 Education"}),e.jsx("option",{value:"cash_money_market",children:"Cash & Money Market"}),e.jsx("option",{value:"trust",children:"Trust Account"}),e.jsx("option",{value:"custodial",children:"Custodial Account"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date *"}),e.jsx("input",{type:"date",name:"date",value:r.date,onChange:m,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),d&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shares *"}),e.jsx("input",{type:"number",name:"shares",value:r.shares,onChange:m,required:!0,min:"0",step:"0.001",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price per Share *"}),e.jsx("input",{type:"number",name:"price",value:r.price,onChange:m,required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),u&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Split Ratio *"}),e.jsx("input",{type:"text",name:"splitRatio",value:r.splitRatio,onChange:m,required:!0,placeholder:"e.g., 2:1, 3:2",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: new:old (e.g., 2:1 means 2 new shares for every 1 old share)"})]}),y&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Ticker Symbol *"}),e.jsx("input",{type:"text",name:"newTicker",value:r.newTicker,onChange:m,required:!0,placeholder:"e.g., NEWCO",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 uppercase"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Amount *"}),e.jsx("input",{type:"number",name:"amount",value:r.amount,onChange:m,required:!0,step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[r.type==="buy"&&"Total cost including fees",r.type==="sell"&&"Net proceeds after fees",r.type==="dividend"&&"Dividend amount received",r.type==="fee"&&"Fee amount charged",r.type==="interest"&&"Interest amount received"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fees"}),e.jsx("input",{type:"number",name:"fees",value:r.fees,onChange:m,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),e.jsx("textarea",{name:"notes",value:r.notes,onChange:m,rows:3,placeholder:"Optional notes about this transaction...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"px-6 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[l&&e.jsx(l.icon,{className:"h-4 w-4"}),e.jsx("span",{children:"Add Transaction"})]})]})]})]})})},nr=({holdings:t,transactions:s,onAddTransaction:a})=>{const[r,n]=E.useState("portfolio"),[i,l]=E.useState(!1),c=(h,u,y)=>{const g=new URLSearchParams({ticker:h,company:u,type:y}),j=`${window.location.origin}/?${g.toString()}`;window.open(j,"_blank")},m=h=>{a(h),l(!1)},x=()=>{switch(r){case"portfolio":return"Portfolio";case"performance":return"Performance";case"accounts":return"Accounts";case"dividends":return"Dividends";case"transactions":return"Transactions";default:return"Portfolio Tracker"}},d=t.map(h=>h.ticker);return e.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[e.jsx(er,{title:x(),onAddTransaction:()=>l(!0),showAddButton:r==="portfolio"||r==="transactions"}),e.jsxs("div",{className:"px-4 py-4",children:[r==="portfolio"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6",children:e.jsx(Mt,{holdings:t})}),e.jsx("div",{className:"space-y-3",children:t.map(h=>e.jsx(sr,{holding:h,onQuickView:c},h.id))})]}),r==="performance"&&e.jsx(Dt,{holdings:t}),r==="accounts"&&e.jsx(Ot,{holdings:t}),r==="dividends"&&e.jsx(Bt,{holdings:t}),r==="transactions"&&e.jsx(Lt,{transactions:s})]}),e.jsx(tr,{activeTab:r,onTabChange:n}),e.jsx(Zs,{}),i&&e.jsx($t,{onClose:()=>l(!1),onAdd:m,existingTickers:d})]})};class ot{static calculate(s,a){const{currentFCF:r,growthRate:n,terminalGrowthRate:i,discountRate:l,projectionYears:c,sharesOutstanding:m,cashAndEquivalents:x=0,totalDebt:d=0}=s,h=[],u=[];for(let C=1;C<=c;C++){const $=r*Math.pow(1+n/100,C),b=$/Math.pow(1+l/100,C);h.push($),u.push(b)}const o=h[h.length-1]*(1+i/100)/(l/100-i/100)/Math.pow(1+l/100,c),N=u.reduce((C,$)=>C+$,0)+o,p=N+x-d,v=p/m,w=v-a,k=w/a*100,M=this.calculateSensitivity(s,a);return{intrinsicValue:v,currentPrice:a,upside:w,upsidePercent:k,projectedCashFlows:h,presentValues:u,terminalValue:o,enterpriseValue:N,equityValue:p,sensitivity:M}}static calculateSensitivity(s,a){const r=[],n=[];for(let i=-2;i<=2;i+=.5){const l=Q(U({},s),{growthRate:s.growthRate+i}),c=this.calculate(l,a);r.push({rate:s.growthRate+i,value:c.intrinsicValue})}for(let i=-2;i<=2;i+=.5){const l=Q(U({},s),{discountRate:s.discountRate+i}),c=this.calculate(l,a);n.push({rate:s.discountRate+i,value:c.intrinsicValue})}return{growthRate:r,discountRate:n}}static estimateInputs(s,a){return{currentFCF:s.marketCap/(s.peRatio||20)*(s.netMargin||10)/100*.8,growthRate:Math.max(0,Math.min(25,s.revenueGrowth||8)),terminalGrowthRate:2.5,discountRate:10,projectionYears:10,sharesOutstanding:s.marketCap/a.price,cashAndEquivalents:s.marketCap*.1,totalDebt:s.marketCap*(s.debtToEquity||.3)}}}const at=class at{static calculateFactorExposure(s){let a=0,r={market:0,size:0,value:0,profitability:0,investment:0,momentum:0};return s.forEach(n=>{const i=n.shares*n.currentPrice;a+=i;const l=i/a,c=this.estimateStockFactorExposures(n);Object.keys(r).forEach(m=>{r[m]+=l*c[m]})}),r}static estimateStockFactorExposures(s){return{market:s.beta||1,size:this.getSizeExposure(s.marketCap),value:this.getValueExposure(s.pbRatio,s.peRatio),profitability:this.getProfitabilityExposure(s.roe,s.roa),investment:this.getInvestmentExposure(s.revenueGrowth),momentum:this.getMomentumExposure(s.currentPrice,s.yearHigh,s.yearLow)}}static getSizeExposure(s){return s>2e11?-.5:s>1e10?0:.5}static getValueExposure(s,a){const r=s<1.5?.3:s>3?-.3:0,n=a<15?.3:a>25?-.3:0;return(r+n)/2}static getProfitabilityExposure(s,a){const r=s>15?.3:s<5?-.3:0,n=a>10?.3:a<3?-.3:0;return(r+n)/2}static getInvestmentExposure(s){return s>15?-.3:s<5?.3:0}static getMomentumExposure(s,a,r){const n=(s-r)/(a-r);return n>.8?.4:n<.2?-.4:0}static calculateFactorAttribution(s,a){const r={market:a.market*this.FACTOR_RETURNS.market,size:a.size*this.FACTOR_RETURNS.size,value:a.value*this.FACTOR_RETURNS.value,profitability:a.profitability*this.FACTOR_RETURNS.profitability,investment:a.investment*this.FACTOR_RETURNS.investment,momentum:a.momentum*this.FACTOR_RETURNS.momentum,alpha:0},n=Object.values(r).reduce((c,m)=>c+m,0);return r.alpha=s-n,{totalReturn:s,factorContributions:r,rSquared:.85,trackingError:.04}}};at.FACTOR_RETURNS={market:.12,size:.02,value:.03,profitability:.025,investment:.015,momentum:.08};let Re=at;const ir=({holding:t,marketData:s})=>{const[a,r]=E.useState("ratios"),[n,i]=E.useState(null),[l,c]=E.useState(null),[m,x]=E.useState(!1);X.useEffect(()=>{if(t.type==="stocks"&&s){const N=ot.estimateInputs(t,s);i(N);const p=ot.calculate(N,t.currentPrice);c(p)}},[t,s]);const d=N=>N>=1e9?`$${(N/1e9).toFixed(1)}B`:N>=1e6?`$${(N/1e6).toFixed(1)}M`:`$${N.toFixed(2)}`,h=N=>`${N>=0?"+":""}${N.toFixed(2)}%`,u=(N,p=2)=>N.toFixed(p),y=(N,p)=>{const w={pe:{good:20,bad:30,higher:!1},pb:{good:2,bad:4,higher:!1},peg:{good:1,bad:2,higher:!1},roe:{good:15,bad:5,higher:!0},roa:{good:10,bad:3,higher:!0},debtToEquity:{good:.3,bad:.8,higher:!1},currentRatio:{good:1.5,bad:1,higher:!0},quickRatio:{good:1,bad:.5,higher:!0}}[N];if(!w)return"text-gray-600";if(w.higher){if(p>=w.good)return"text-green-600";if(p<=w.bad)return"text-red-600"}else{if(p<=w.good)return"text-green-600";if(p>=w.bad)return"text-red-600"}return"text-yellow-600"},g=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-blue-900 mb-3 flex items-center",children:[e.jsx(re,{className:"h-4 w-4 mr-2"}),"Valuation Ratios"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"P/E Ratio"}),e.jsx("div",{className:`text-lg font-bold ${y("pe",t.pe)}`,children:u(t.pe,1)}),e.jsx("div",{className:"text-xs text-gray-500",children:t.pe<15?"Undervalued":t.pe>25?"Overvalued":"Fair Value"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"P/B Ratio"}),e.jsx("div",{className:`text-lg font-bold ${y("pb",t.pb)}`,children:u(t.pb,1)}),e.jsx("div",{className:"text-xs text-gray-500",children:t.pb<1?"Deep Value":t.pb>3?"Premium":"Reasonable"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"PEG Ratio"}),e.jsx("div",{className:`text-lg font-bold ${y("peg",t.peg)}`,children:u(t.peg,1)}),e.jsx("div",{className:"text-xs text-gray-500",children:t.peg<1?"Growth Value":t.peg>2?"Expensive Growth":"Fair Growth"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"EV/FCF"}),e.jsx("div",{className:`text-lg font-bold ${t.evFcf<15?"text-green-600":t.evFcf>25?"text-red-600":"text-yellow-600"}`,children:u(t.evFcf,1)}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Sector Median: ",u(t.sectorMedianEvFcf,1)]})]})]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-green-900 mb-3 flex items-center",children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),"Profitability Ratios"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"ROE"}),e.jsx("div",{className:`text-lg font-bold ${y("roe",t.roe)}`,children:h(t.roe)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Return on Equity"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"ROA"}),e.jsx("div",{className:`text-lg font-bold ${y("roa",t.roa)}`,children:h(t.roa)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Return on Assets"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Gross Margin"}),e.jsx("div",{className:`text-lg font-bold ${t.grossMargin>40?"text-green-600":t.grossMargin<20?"text-red-600":"text-yellow-600"}`,children:h(t.grossMargin)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Pricing Power"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Net Margin"}),e.jsx("div",{className:`text-lg font-bold ${t.netMargin>15?"text-green-600":t.netMargin<5?"text-red-600":"text-yellow-600"}`,children:h(t.netMargin)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Bottom Line"})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-yellow-900 mb-3 flex items-center",children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"Financial Health"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Debt/Equity"}),e.jsx("div",{className:`text-lg font-bold ${y("debtToEquity",t.debtToEquity)}`,children:u(t.debtToEquity,2)}),e.jsx("div",{className:"text-xs text-gray-500",children:t.debtToEquity<.3?"Conservative":t.debtToEquity>.8?"High Risk":"Moderate"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Current Ratio"}),e.jsx("div",{className:`text-lg font-bold ${y("currentRatio",t.currentRatio)}`,children:u(t.currentRatio,2)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Short-term Liquidity"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Quick Ratio"}),e.jsx("div",{className:`text-lg font-bold ${y("quickRatio",t.quickRatio)}`,children:u(t.quickRatio,2)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Immediate Liquidity"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Asset Turnover"}),e.jsx("div",{className:`text-lg font-bold ${t.assetTurnover>1?"text-green-600":"text-yellow-600"}`,children:u(t.assetTurnover,2)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Efficiency"})]})]})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-purple-900 mb-3 flex items-center",children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"Growth & Efficiency"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Revenue Growth"}),e.jsx("div",{className:`text-lg font-bold ${t.revenueGrowth>10?"text-green-600":t.revenueGrowth<0?"text-red-600":"text-yellow-600"}`,children:h(t.revenueGrowth)}),e.jsx("div",{className:"text-xs text-gray-500",children:"YoY Growth"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Operating Margin"}),e.jsx("div",{className:`text-lg font-bold ${t.operatingMargin>20?"text-green-600":t.operatingMargin<10?"text-red-600":"text-yellow-600"}`,children:h(t.operatingMargin)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Operational Efficiency"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"10-Year FCF"}),e.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["$",u(t.fcf10yr,1),"B"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Cash Generation"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"FCF Trend"}),e.jsx("div",{className:`text-lg font-bold ${t.fcf1yr>t.fcf3yr?"text-green-600":"text-red-600"}`,children:t.fcf1yr>t.fcf3yr?"↗":"↘"}),e.jsxs("div",{className:"text-xs text-gray-500",children:["1Y: $",t.fcf1yr,"B vs 3Y: $",t.fcf3yr,"B"]})]})]})]})]}),j=()=>!l||!n?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(le,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"DCF analysis not available for this asset type"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6",children:[e.jsxs("h4",{className:"font-semibold text-indigo-900 mb-4 flex items-center",children:[e.jsx(le,{className:"h-5 w-5 mr-2"}),"Discounted Cash Flow Analysis"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Intrinsic Value"}),e.jsx("div",{className:"text-3xl font-bold text-indigo-900",children:d(l.intrinsicValue)}),e.jsx("div",{className:"text-sm text-gray-500",children:"Per Share"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Upside/Downside"}),e.jsx("div",{className:`text-3xl font-bold ${l.upsidePercent>=0?"text-green-600":"text-red-600"}`,children:h(l.upsidePercent)}),e.jsxs("div",{className:"text-sm text-gray-500",children:[d(l.upside)," per share"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Valuation Components"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Enterprise Value"}),e.jsx("span",{className:"font-medium",children:d(l.enterpriseValue)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Terminal Value"}),e.jsx("span",{className:"font-medium",children:d(l.terminalValue)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Equity Value"}),e.jsx("span",{className:"font-medium",children:d(l.equityValue)})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2",children:[e.jsx("span",{className:"text-gray-600",children:"Current Price"}),e.jsx("span",{className:"font-medium",children:d(l.currentPrice)})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Key Assumptions"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Growth Rate"}),e.jsxs("span",{className:"font-medium",children:[n.growthRate.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Terminal Growth"}),e.jsxs("span",{className:"font-medium",children:[n.terminalGrowthRate.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Discount Rate"}),e.jsxs("span",{className:"font-medium",children:[n.discountRate.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Projection Years"}),e.jsx("span",{className:"font-medium",children:n.projectionYears})]})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h5",{className:"font-medium text-gray-900",children:"Sensitivity Analysis"}),e.jsxs("button",{onClick:()=>x(!m),className:"text-blue-600 hover:text-blue-800 flex items-center text-sm",children:[m?e.jsx(je,{className:"h-4 w-4"}):e.jsx(St,{className:"h-4 w-4"}),m?"Hide":"Show"]})]}),m&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h6",{className:"text-sm font-medium text-gray-700 mb-2",children:"Growth Rate Sensitivity"}),e.jsx("div",{className:"space-y-1",children:l.sensitivity.growthRate.map((N,p)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:[N.rate.toFixed(1),"%"]}),e.jsx("span",{className:`font-medium ${N.value>l.currentPrice?"text-green-600":"text-red-600"}`,children:d(N.value)})]},p))})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"text-sm font-medium text-gray-700 mb-2",children:"Discount Rate Sensitivity"}),e.jsx("div",{className:"space-y-1",children:l.sensitivity.discountRate.map((N,p)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:[N.rate.toFixed(1),"%"]}),e.jsx("span",{className:`font-medium ${N.value>l.currentPrice?"text-green-600":"text-red-600"}`,children:d(N.value)})]},p))})]})]})]})]}),o=()=>{const N=Re.calculateFactorExposure([t]),p=(t.currentPrice-t.costBasis)/t.costBasis*100,v=Re.calculateFactorAttribution(p/100,N);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-6",children:[e.jsxs("h4",{className:"font-semibold text-purple-900 mb-4 flex items-center",children:[e.jsx(O,{className:"h-5 w-5 mr-2"}),"Fama-French Factor Exposure"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(N).map(([w,k])=>{const M={market:"Market (Beta)",size:"Size (SMB)",value:"Value (HML)",profitability:"Profitability (RMW)",investment:"Investment (CMA)",momentum:"Momentum (UMD)"};return e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:M[w]}),e.jsxs("div",{className:`text-lg font-bold ${Math.abs(k)>.3?"text-purple-600":Math.abs(k)>.1?"text-blue-600":"text-gray-600"}`,children:[k>=0?"+":"",k.toFixed(2)]}),e.jsx("div",{className:"text-xs text-gray-500",children:Math.abs(k)>.3?"High":Math.abs(k)>.1?"Moderate":"Low"})]},w)})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Factor Attribution to Returns"}),e.jsx("div",{className:"space-y-3",children:Object.entries(v.factorContributions).map(([w,k])=>{const M={market:"Market Factor",size:"Size Factor",value:"Value Factor",profitability:"Profitability Factor",investment:"Investment Factor",momentum:"Momentum Factor",alpha:"Alpha (Unexplained)"},C=k*100;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-700",children:M[w]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${C>=0?"bg-green-500":"bg-red-500"}`,style:{width:`${Math.min(Math.abs(C)*5,100)}%`,marginLeft:C<0?`${100-Math.min(Math.abs(C)*5,100)}%`:"0"}})}),e.jsxs("span",{className:`text-sm font-medium ${C>=0?"text-green-600":"text-red-600"}`,children:[C>=0?"+":"",C.toFixed(1),"%"]})]})]},w)})}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"R-Squared"}),e.jsxs("span",{className:"font-medium",children:[(v.rSquared*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[e.jsx("span",{className:"text-gray-600",children:"Tracking Error"}),e.jsxs("span",{className:"font-medium",children:[(v.trackingError*100).toFixed(1),"%"]})]})]})]}),e.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(ne,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-blue-900 mb-2",children:"Understanding Factor Analysis"}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Market:"})," Correlation with overall market movements (Beta)"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Size:"})," Small-cap vs large-cap bias (SMB - Small Minus Big)"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Value:"})," Value vs growth stock characteristics (HML - High Minus Low)"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Profitability:"})," Profitable vs unprofitable companies (RMW - Robust Minus Weak)"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Investment:"})," Conservative vs aggressive investment patterns (CMA - Conservative Minus Aggressive)"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Momentum:"})," Recent price performance trends (UMD - Up Minus Down)"]})]})]})]})})]})};return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(le,{className:"h-5 w-5 mr-2 text-blue-600"}),"Advanced Financial Analysis"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[t.ticker," - ",t.company]})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsx("nav",{className:"flex space-x-8",children:[{id:"ratios",label:"Financial Ratios",icon:O},{id:"dcf",label:"DCF Analysis",icon:le},{id:"factors",label:"Factor Analysis",icon:re}].map(N=>{const p=N.icon;return e.jsxs("button",{onClick:()=>r(N.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center transition-colors ${a===N.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),N.label]},N.id)})})}),a==="ratios"&&g(),a==="dcf"&&j(),a==="factors"&&o()]})};function qt(t,s){return function(){return t.apply(s,arguments)}}const{toString:lr}=Object.prototype,{getPrototypeOf:et}=Object,{iterator:Pe,toStringTag:It}=Symbol,Te=(t=>s=>{const a=lr.call(s);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),z=t=>(t=t.toLowerCase(),s=>Te(s)===t),Ae=t=>s=>typeof s===t,{isArray:oe}=Array,he=Ae("undefined");function cr(t){return t!==null&&!he(t)&&t.constructor!==null&&!he(t.constructor)&&_(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const _t=z("ArrayBuffer");function or(t){let s;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&_t(t.buffer),s}const dr=Ae("string"),_=Ae("function"),Vt=Ae("number"),Fe=t=>t!==null&&typeof t=="object",xr=t=>t===!0||t===!1,be=t=>{if(Te(t)!=="object")return!1;const s=et(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(It in t)&&!(Pe in t)},mr=z("Date"),ur=z("File"),hr=z("Blob"),pr=z("FileList"),fr=t=>Fe(t)&&_(t.pipe),gr=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||_(t.append)&&((s=Te(t))==="formdata"||s==="object"&&_(t.toString)&&t.toString()==="[object FormData]"))},yr=z("URLSearchParams"),[jr,br,Nr,vr]=["ReadableStream","Request","Response","Headers"].map(z),wr=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fe(t,s,{allOwnKeys:a=!1}={}){if(t===null||typeof t=="undefined")return;let r,n;if(typeof t!="object"&&(t=[t]),oe(t))for(r=0,n=t.length;r<n;r++)s.call(null,t[r],r,t);else{const i=a?Object.getOwnPropertyNames(t):Object.keys(t),l=i.length;let c;for(r=0;r<l;r++)c=i[r],s.call(null,t[c],c,t)}}function Ut(t,s){s=s.toLowerCase();const a=Object.keys(t);let r=a.length,n;for(;r-- >0;)if(n=a[r],s===n.toLowerCase())return n;return null}const ee=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,Yt=t=>!he(t)&&t!==ee;function Ye(){const{caseless:t}=Yt(this)&&this||{},s={},a=(r,n)=>{const i=t&&Ut(s,n)||n;be(s[i])&&be(r)?s[i]=Ye(s[i],r):be(r)?s[i]=Ye({},r):oe(r)?s[i]=r.slice():s[i]=r};for(let r=0,n=arguments.length;r<n;r++)arguments[r]&&fe(arguments[r],a);return s}const Rr=(t,s,a,{allOwnKeys:r}={})=>(fe(s,(n,i)=>{a&&_(n)?t[i]=qt(n,a):t[i]=n},{allOwnKeys:r}),t),kr=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Er=(t,s,a,r)=>{t.prototype=Object.create(s.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),a&&Object.assign(t.prototype,a)},Sr=(t,s,a,r)=>{let n,i,l;const c={};if(s=s||{},t==null)return s;do{for(n=Object.getOwnPropertyNames(t),i=n.length;i-- >0;)l=n[i],(!r||r(l,t,s))&&!c[l]&&(s[l]=t[l],c[l]=!0);t=a!==!1&&et(t)}while(t&&(!a||a(t,s))&&t!==Object.prototype);return s},Cr=(t,s,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=s.length;const r=t.indexOf(s,a);return r!==-1&&r===a},Pr=t=>{if(!t)return null;if(oe(t))return t;let s=t.length;if(!Vt(s))return null;const a=new Array(s);for(;s-- >0;)a[s]=t[s];return a},Tr=(t=>s=>t&&s instanceof t)(typeof Uint8Array!="undefined"&&et(Uint8Array)),Ar=(t,s)=>{const r=(t&&t[Pe]).call(t);let n;for(;(n=r.next())&&!n.done;){const i=n.value;s.call(t,i[0],i[1])}},Fr=(t,s)=>{let a;const r=[];for(;(a=t.exec(s))!==null;)r.push(a);return r},Mr=z("HTMLFormElement"),Dr=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,n){return r.toUpperCase()+n}),dt=(({hasOwnProperty:t})=>(s,a)=>t.call(s,a))(Object.prototype),Or=z("RegExp"),Ht=(t,s)=>{const a=Object.getOwnPropertyDescriptors(t),r={};fe(a,(n,i)=>{let l;(l=s(n,i,t))!==!1&&(r[i]=l||n)}),Object.defineProperties(t,r)},Br=t=>{Ht(t,(s,a)=>{if(_(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=t[a];if(_(r)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},Lr=(t,s)=>{const a={},r=n=>{n.forEach(i=>{a[i]=!0})};return oe(t)?r(t):r(String(t).split(s)),a},$r=()=>{},qr=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function Ir(t){return!!(t&&_(t.append)&&t[It]==="FormData"&&t[Pe])}const _r=t=>{const s=new Array(10),a=(r,n)=>{if(Fe(r)){if(s.indexOf(r)>=0)return;if(!("toJSON"in r)){s[n]=r;const i=oe(r)?[]:{};return fe(r,(l,c)=>{const m=a(l,n+1);!he(m)&&(i[c]=m)}),s[n]=void 0,i}}return r};return a(t,0)},Vr=z("AsyncFunction"),Ur=t=>t&&(Fe(t)||_(t))&&_(t.then)&&_(t.catch),Gt=((t,s)=>t?setImmediate:s?((a,r)=>(ee.addEventListener("message",({source:n,data:i})=>{n===ee&&i===a&&r.length&&r.shift()()},!1),n=>{r.push(n),ee.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",_(ee.postMessage)),Yr=typeof queueMicrotask!="undefined"?queueMicrotask.bind(ee):typeof process!="undefined"&&process.nextTick||Gt,Hr=t=>t!=null&&_(t[Pe]),f={isArray:oe,isArrayBuffer:_t,isBuffer:cr,isFormData:gr,isArrayBufferView:or,isString:dr,isNumber:Vt,isBoolean:xr,isObject:Fe,isPlainObject:be,isReadableStream:jr,isRequest:br,isResponse:Nr,isHeaders:vr,isUndefined:he,isDate:mr,isFile:ur,isBlob:hr,isRegExp:Or,isFunction:_,isStream:fr,isURLSearchParams:yr,isTypedArray:Tr,isFileList:pr,forEach:fe,merge:Ye,extend:Rr,trim:wr,stripBOM:kr,inherits:Er,toFlatObject:Sr,kindOf:Te,kindOfTest:z,endsWith:Cr,toArray:Pr,forEachEntry:Ar,matchAll:Fr,isHTMLForm:Mr,hasOwnProperty:dt,hasOwnProp:dt,reduceDescriptors:Ht,freezeMethods:Br,toObjectSet:Lr,toCamelCase:Dr,noop:$r,toFiniteNumber:qr,findKey:Ut,global:ee,isContextDefined:Yt,isSpecCompliantForm:Ir,toJSONObject:_r,isAsyncFn:Vr,isThenable:Ur,setImmediate:Gt,asap:Yr,isIterable:Hr};function S(t,s,a,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),a&&(this.config=a),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}f.inherits(S,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:f.toJSONObject(this.config),code:this.code,status:this.status}}});const zt=S.prototype,Wt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Wt[t]={value:t}});Object.defineProperties(S,Wt);Object.defineProperty(zt,"isAxiosError",{value:!0});S.from=(t,s,a,r,n,i)=>{const l=Object.create(zt);return f.toFlatObject(t,l,function(m){return m!==Error.prototype},c=>c!=="isAxiosError"),S.call(l,t.message,s,a,r,n),l.cause=t,l.name=t.name,i&&Object.assign(l,i),l};const Gr=null;function He(t){return f.isPlainObject(t)||f.isArray(t)}function Qt(t){return f.endsWith(t,"[]")?t.slice(0,-2):t}function xt(t,s,a){return t?t.concat(s).map(function(n,i){return n=Qt(n),!a&&i?"["+n+"]":n}).join(a?".":""):s}function zr(t){return f.isArray(t)&&!t.some(He)}const Wr=f.toFlatObject(f,{},null,function(s){return/^is[A-Z]/.test(s)});function Me(t,s,a){if(!f.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,a=f.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,o){return!f.isUndefined(o[j])});const r=a.metaTokens,n=a.visitor||d,i=a.dots,l=a.indexes,m=(a.Blob||typeof Blob!="undefined"&&Blob)&&f.isSpecCompliantForm(s);if(!f.isFunction(n))throw new TypeError("visitor must be a function");function x(g){if(g===null)return"";if(f.isDate(g))return g.toISOString();if(f.isBoolean(g))return g.toString();if(!m&&f.isBlob(g))throw new S("Blob is not supported. Use a Buffer instead.");return f.isArrayBuffer(g)||f.isTypedArray(g)?m&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,j,o){let N=g;if(g&&!o&&typeof g=="object"){if(f.endsWith(j,"{}"))j=r?j:j.slice(0,-2),g=JSON.stringify(g);else if(f.isArray(g)&&zr(g)||(f.isFileList(g)||f.endsWith(j,"[]"))&&(N=f.toArray(g)))return j=Qt(j),N.forEach(function(v,w){!(f.isUndefined(v)||v===null)&&s.append(l===!0?xt([j],w,i):l===null?j:j+"[]",x(v))}),!1}return He(g)?!0:(s.append(xt(o,j,i),x(g)),!1)}const h=[],u=Object.assign(Wr,{defaultVisitor:d,convertValue:x,isVisitable:He});function y(g,j){if(!f.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+j.join("."));h.push(g),f.forEach(g,function(N,p){(!(f.isUndefined(N)||N===null)&&n.call(s,N,f.isString(p)?p.trim():p,j,u))===!0&&y(N,j?j.concat(p):[p])}),h.pop()}}if(!f.isObject(t))throw new TypeError("data must be an object");return y(t),s}function mt(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return s[r]})}function tt(t,s){this._pairs=[],t&&Me(t,this,s)}const Jt=tt.prototype;Jt.append=function(s,a){this._pairs.push([s,a])};Jt.toString=function(s){const a=s?function(r){return s.call(this,r,mt)}:mt;return this._pairs.map(function(n){return a(n[0])+"="+a(n[1])},"").join("&")};function Qr(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Kt(t,s,a){if(!s)return t;const r=a&&a.encode||Qr;f.isFunction(a)&&(a={serialize:a});const n=a&&a.serialize;let i;if(n?i=n(s,a):i=f.isURLSearchParams(s)?s.toString():new tt(s,a).toString(r),i){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class ut{constructor(){this.handlers=[]}use(s,a,r){return this.handlers.push({fulfilled:s,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){f.forEach(this.handlers,function(r){r!==null&&s(r)})}}const Xt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Jr=typeof URLSearchParams!="undefined"?URLSearchParams:tt,Kr=typeof FormData!="undefined"?FormData:null,Xr=typeof Blob!="undefined"?Blob:null,Zr={isBrowser:!0,classes:{URLSearchParams:Jr,FormData:Kr,Blob:Xr},protocols:["http","https","file","blob","url","data"]},st=typeof window!="undefined"&&typeof document!="undefined",Ge=typeof navigator=="object"&&navigator||void 0,ea=st&&(!Ge||["ReactNative","NativeScript","NS"].indexOf(Ge.product)<0),ta=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",sa=st&&window.location.href||"http://localhost",ra=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:st,hasStandardBrowserEnv:ea,hasStandardBrowserWebWorkerEnv:ta,navigator:Ge,origin:sa},Symbol.toStringTag,{value:"Module"})),q=U(U({},ra),Zr);function aa(t,s){return Me(t,new q.classes.URLSearchParams,Object.assign({visitor:function(a,r,n,i){return q.isNode&&f.isBuffer(a)?(this.append(r,a.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},s))}function na(t){return f.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function ia(t){const s={},a=Object.keys(t);let r;const n=a.length;let i;for(r=0;r<n;r++)i=a[r],s[i]=t[i];return s}function Zt(t){function s(a,r,n,i){let l=a[i++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),m=i>=a.length;return l=!l&&f.isArray(n)?n.length:l,m?(f.hasOwnProp(n,l)?n[l]=[n[l],r]:n[l]=r,!c):((!n[l]||!f.isObject(n[l]))&&(n[l]=[]),s(a,r,n[l],i)&&f.isArray(n[l])&&(n[l]=ia(n[l])),!c)}if(f.isFormData(t)&&f.isFunction(t.entries)){const a={};return f.forEachEntry(t,(r,n)=>{s(na(r),n,a,0)}),a}return null}function la(t,s,a){if(f.isString(t))try{return(s||JSON.parse)(t),f.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const ge={transitional:Xt,adapter:["xhr","http","fetch"],transformRequest:[function(s,a){const r=a.getContentType()||"",n=r.indexOf("application/json")>-1,i=f.isObject(s);if(i&&f.isHTMLForm(s)&&(s=new FormData(s)),f.isFormData(s))return n?JSON.stringify(Zt(s)):s;if(f.isArrayBuffer(s)||f.isBuffer(s)||f.isStream(s)||f.isFile(s)||f.isBlob(s)||f.isReadableStream(s))return s;if(f.isArrayBufferView(s))return s.buffer;if(f.isURLSearchParams(s))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let c;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return aa(s,this.formSerializer).toString();if((c=f.isFileList(s))||r.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Me(c?{"files[]":s}:s,m&&new m,this.formSerializer)}}return i||n?(a.setContentType("application/json",!1),la(s)):s}],transformResponse:[function(s){const a=this.transitional||ge.transitional,r=a&&a.forcedJSONParsing,n=this.responseType==="json";if(f.isResponse(s)||f.isReadableStream(s))return s;if(s&&f.isString(s)&&(r&&!this.responseType||n)){const l=!(a&&a.silentJSONParsing)&&n;try{return JSON.parse(s)}catch(c){if(l)throw c.name==="SyntaxError"?S.from(c,S.ERR_BAD_RESPONSE,this,null,this.response):c}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:q.classes.FormData,Blob:q.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};f.forEach(["delete","get","head","post","put","patch"],t=>{ge.headers[t]={}});const ca=f.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oa=t=>{const s={};let a,r,n;return t&&t.split(`
`).forEach(function(l){n=l.indexOf(":"),a=l.substring(0,n).trim().toLowerCase(),r=l.substring(n+1).trim(),!(!a||s[a]&&ca[a])&&(a==="set-cookie"?s[a]?s[a].push(r):s[a]=[r]:s[a]=s[a]?s[a]+", "+r:r)}),s},ht=Symbol("internals");function me(t){return t&&String(t).trim().toLowerCase()}function Ne(t){return t===!1||t==null?t:f.isArray(t)?t.map(Ne):String(t)}function da(t){const s=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(t);)s[r[1]]=r[2];return s}const xa=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ie(t,s,a,r,n){if(f.isFunction(r))return r.call(this,s,a);if(n&&(s=a),!!f.isString(s)){if(f.isString(r))return s.indexOf(r)!==-1;if(f.isRegExp(r))return r.test(s)}}function ma(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,a,r)=>a.toUpperCase()+r)}function ua(t,s){const a=f.toCamelCase(" "+s);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+a,{value:function(n,i,l){return this[r].call(this,s,n,i,l)},configurable:!0})})}class V{constructor(s){s&&this.set(s)}set(s,a,r){const n=this;function i(c,m,x){const d=me(m);if(!d)throw new Error("header name must be a non-empty string");const h=f.findKey(n,d);(!h||n[h]===void 0||x===!0||x===void 0&&n[h]!==!1)&&(n[h||m]=Ne(c))}const l=(c,m)=>f.forEach(c,(x,d)=>i(x,d,m));if(f.isPlainObject(s)||s instanceof this.constructor)l(s,a);else if(f.isString(s)&&(s=s.trim())&&!xa(s))l(oa(s),a);else if(f.isObject(s)&&f.isIterable(s)){let c={},m,x;for(const d of s){if(!f.isArray(d))throw TypeError("Object iterator must return a key-value pair");c[x=d[0]]=(m=c[x])?f.isArray(m)?[...m,d[1]]:[m,d[1]]:d[1]}l(c,a)}else s!=null&&i(a,s,r);return this}get(s,a){if(s=me(s),s){const r=f.findKey(this,s);if(r){const n=this[r];if(!a)return n;if(a===!0)return da(n);if(f.isFunction(a))return a.call(this,n,r);if(f.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,a){if(s=me(s),s){const r=f.findKey(this,s);return!!(r&&this[r]!==void 0&&(!a||Ie(this,this[r],r,a)))}return!1}delete(s,a){const r=this;let n=!1;function i(l){if(l=me(l),l){const c=f.findKey(r,l);c&&(!a||Ie(r,r[c],c,a))&&(delete r[c],n=!0)}}return f.isArray(s)?s.forEach(i):i(s),n}clear(s){const a=Object.keys(this);let r=a.length,n=!1;for(;r--;){const i=a[r];(!s||Ie(this,this[i],i,s,!0))&&(delete this[i],n=!0)}return n}normalize(s){const a=this,r={};return f.forEach(this,(n,i)=>{const l=f.findKey(r,i);if(l){a[l]=Ne(n),delete a[i];return}const c=s?ma(i):String(i).trim();c!==i&&delete a[i],a[c]=Ne(n),r[c]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const a=Object.create(null);return f.forEach(this,(r,n)=>{r!=null&&r!==!1&&(a[n]=s&&f.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,a])=>s+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...a){const r=new this(s);return a.forEach(n=>r.set(n)),r}static accessor(s){const r=(this[ht]=this[ht]={accessors:{}}).accessors,n=this.prototype;function i(l){const c=me(l);r[c]||(ua(n,l),r[c]=!0)}return f.isArray(s)?s.forEach(i):i(s),this}}V.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);f.reduceDescriptors(V.prototype,({value:t},s)=>{let a=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(r){this[a]=r}}});f.freezeMethods(V);function _e(t,s){const a=this||ge,r=s||a,n=V.from(r.headers);let i=r.data;return f.forEach(t,function(c){i=c.call(a,i,n.normalize(),s?s.status:void 0)}),n.normalize(),i}function es(t){return!!(t&&t.__CANCEL__)}function de(t,s,a){S.call(this,t==null?"canceled":t,S.ERR_CANCELED,s,a),this.name="CanceledError"}f.inherits(de,S,{__CANCEL__:!0});function ts(t,s,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?t(a):s(new S("Request failed with status code "+a.status,[S.ERR_BAD_REQUEST,S.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function ha(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function pa(t,s){t=t||10;const a=new Array(t),r=new Array(t);let n=0,i=0,l;return s=s!==void 0?s:1e3,function(m){const x=Date.now(),d=r[i];l||(l=x),a[n]=m,r[n]=x;let h=i,u=0;for(;h!==n;)u+=a[h++],h=h%t;if(n=(n+1)%t,n===i&&(i=(i+1)%t),x-l<s)return;const y=d&&x-d;return y?Math.round(u*1e3/y):void 0}}function fa(t,s){let a=0,r=1e3/s,n,i;const l=(x,d=Date.now())=>{a=d,n=null,i&&(clearTimeout(i),i=null),t.apply(null,x)};return[(...x)=>{const d=Date.now(),h=d-a;h>=r?l(x,d):(n=x,i||(i=setTimeout(()=>{i=null,l(n)},r-h)))},()=>n&&l(n)]}const ke=(t,s,a=3)=>{let r=0;const n=pa(50,250);return fa(i=>{const l=i.loaded,c=i.lengthComputable?i.total:void 0,m=l-r,x=n(m),d=l<=c;r=l;const h={loaded:l,total:c,progress:c?l/c:void 0,bytes:m,rate:x||void 0,estimated:x&&c&&d?(c-l)/x:void 0,event:i,lengthComputable:c!=null,[s?"download":"upload"]:!0};t(h)},a)},pt=(t,s)=>{const a=t!=null;return[r=>s[0]({lengthComputable:a,total:t,loaded:r}),s[1]]},ft=t=>(...s)=>f.asap(()=>t(...s)),ga=q.hasStandardBrowserEnv?((t,s)=>a=>(a=new URL(a,q.origin),t.protocol===a.protocol&&t.host===a.host&&(s||t.port===a.port)))(new URL(q.origin),q.navigator&&/(msie|trident)/i.test(q.navigator.userAgent)):()=>!0,ya=q.hasStandardBrowserEnv?{write(t,s,a,r,n,i){const l=[t+"="+encodeURIComponent(s)];f.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),f.isString(r)&&l.push("path="+r),f.isString(n)&&l.push("domain="+n),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ja(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ba(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function ss(t,s,a){let r=!ja(s);return t&&(r||a==!1)?ba(t,s):s}const gt=t=>t instanceof V?U({},t):t;function ae(t,s){s=s||{};const a={};function r(x,d,h,u){return f.isPlainObject(x)&&f.isPlainObject(d)?f.merge.call({caseless:u},x,d):f.isPlainObject(d)?f.merge({},d):f.isArray(d)?d.slice():d}function n(x,d,h,u){if(f.isUndefined(d)){if(!f.isUndefined(x))return r(void 0,x,h,u)}else return r(x,d,h,u)}function i(x,d){if(!f.isUndefined(d))return r(void 0,d)}function l(x,d){if(f.isUndefined(d)){if(!f.isUndefined(x))return r(void 0,x)}else return r(void 0,d)}function c(x,d,h){if(h in s)return r(x,d);if(h in t)return r(void 0,x)}const m={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(x,d,h)=>n(gt(x),gt(d),h,!0)};return f.forEach(Object.keys(Object.assign({},t,s)),function(d){const h=m[d]||n,u=h(t[d],s[d],d);f.isUndefined(u)&&h!==c||(a[d]=u)}),a}const rs=t=>{const s=ae({},t);let{data:a,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:i,headers:l,auth:c}=s;s.headers=l=V.from(l),s.url=Kt(ss(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let m;if(f.isFormData(a)){if(q.hasStandardBrowserEnv||q.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((m=l.getContentType())!==!1){const[x,...d]=m?m.split(";").map(h=>h.trim()).filter(Boolean):[];l.setContentType([x||"multipart/form-data",...d].join("; "))}}if(q.hasStandardBrowserEnv&&(r&&f.isFunction(r)&&(r=r(s)),r||r!==!1&&ga(s.url))){const x=n&&i&&ya.read(i);x&&l.set(n,x)}return s},Na=typeof XMLHttpRequest!="undefined",va=Na&&function(t){return new Promise(function(a,r){const n=rs(t);let i=n.data;const l=V.from(n.headers).normalize();let{responseType:c,onUploadProgress:m,onDownloadProgress:x}=n,d,h,u,y,g;function j(){y&&y(),g&&g(),n.cancelToken&&n.cancelToken.unsubscribe(d),n.signal&&n.signal.removeEventListener("abort",d)}let o=new XMLHttpRequest;o.open(n.method.toUpperCase(),n.url,!0),o.timeout=n.timeout;function N(){if(!o)return;const v=V.from("getAllResponseHeaders"in o&&o.getAllResponseHeaders()),k={data:!c||c==="text"||c==="json"?o.responseText:o.response,status:o.status,statusText:o.statusText,headers:v,config:t,request:o};ts(function(C){a(C),j()},function(C){r(C),j()},k),o=null}"onloadend"in o?o.onloadend=N:o.onreadystatechange=function(){!o||o.readyState!==4||o.status===0&&!(o.responseURL&&o.responseURL.indexOf("file:")===0)||setTimeout(N)},o.onabort=function(){o&&(r(new S("Request aborted",S.ECONNABORTED,t,o)),o=null)},o.onerror=function(){r(new S("Network Error",S.ERR_NETWORK,t,o)),o=null},o.ontimeout=function(){let w=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const k=n.transitional||Xt;n.timeoutErrorMessage&&(w=n.timeoutErrorMessage),r(new S(w,k.clarifyTimeoutError?S.ETIMEDOUT:S.ECONNABORTED,t,o)),o=null},i===void 0&&l.setContentType(null),"setRequestHeader"in o&&f.forEach(l.toJSON(),function(w,k){o.setRequestHeader(k,w)}),f.isUndefined(n.withCredentials)||(o.withCredentials=!!n.withCredentials),c&&c!=="json"&&(o.responseType=n.responseType),x&&([u,g]=ke(x,!0),o.addEventListener("progress",u)),m&&o.upload&&([h,y]=ke(m),o.upload.addEventListener("progress",h),o.upload.addEventListener("loadend",y)),(n.cancelToken||n.signal)&&(d=v=>{o&&(r(!v||v.type?new de(null,t,o):v),o.abort(),o=null)},n.cancelToken&&n.cancelToken.subscribe(d),n.signal&&(n.signal.aborted?d():n.signal.addEventListener("abort",d)));const p=ha(n.url);if(p&&q.protocols.indexOf(p)===-1){r(new S("Unsupported protocol "+p+":",S.ERR_BAD_REQUEST,t));return}o.send(i||null)})},wa=(t,s)=>{const{length:a}=t=t?t.filter(Boolean):[];if(s||a){let r=new AbortController,n;const i=function(x){if(!n){n=!0,c();const d=x instanceof Error?x:this.reason;r.abort(d instanceof S?d:new de(d instanceof Error?d.message:d))}};let l=s&&setTimeout(()=>{l=null,i(new S(`timeout ${s} of ms exceeded`,S.ETIMEDOUT))},s);const c=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(x=>{x.unsubscribe?x.unsubscribe(i):x.removeEventListener("abort",i)}),t=null)};t.forEach(x=>x.addEventListener("abort",i));const{signal:m}=r;return m.unsubscribe=()=>f.asap(c),m}},Ra=function*(t,s){let a=t.byteLength;if(a<s){yield t;return}let r=0,n;for(;r<a;)n=r+s,yield t.slice(r,n),r=n},ka=function(t,s){return Be(this,null,function*(){try{for(var a=lt(Ea(t)),r,n,i;r=!(n=yield new Z(a.next())).done;r=!1){const l=n.value;yield*Le(Ra(l,s))}}catch(n){i=[n]}finally{try{r&&(n=a.return)&&(yield new Z(n.call(a)))}finally{if(i)throw i[0]}}})},Ea=function(t){return Be(this,null,function*(){if(t[Symbol.asyncIterator]){yield*Le(t);return}const s=t.getReader();try{for(;;){const{done:a,value:r}=yield new Z(s.read());if(a)break;yield r}}finally{yield new Z(s.cancel())}})},yt=(t,s,a,r)=>{const n=ka(t,s);let i=0,l,c=x=>{l||(l=!0,r&&r(x))};return new ReadableStream({pull(x){return L(this,null,function*(){try{const{done:d,value:h}=yield n.next();if(d){c(),x.close();return}let u=h.byteLength;if(a){let y=i+=u;a(y)}x.enqueue(new Uint8Array(h))}catch(d){throw c(d),d}})},cancel(x){return c(x),n.return()}},{highWaterMark:2})},De=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",as=De&&typeof ReadableStream=="function",Sa=De&&(typeof TextEncoder=="function"?(t=>s=>t.encode(s))(new TextEncoder):t=>L(Y,null,function*(){return new Uint8Array(yield new Response(t).arrayBuffer())})),ns=(t,...s)=>{try{return!!t(...s)}catch(a){return!1}},Ca=as&&ns(()=>{let t=!1;const s=new Request(q.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!s}),jt=64*1024,ze=as&&ns(()=>f.isReadableStream(new Response("").body)),Ee={stream:ze&&(t=>t.body)};De&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!Ee[s]&&(Ee[s]=f.isFunction(t[s])?a=>a[s]():(a,r)=>{throw new S(`Response type '${s}' is not supported`,S.ERR_NOT_SUPPORT,r)})})})(new Response);const Pa=t=>L(Y,null,function*(){if(t==null)return 0;if(f.isBlob(t))return t.size;if(f.isSpecCompliantForm(t))return(yield new Request(q.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(f.isArrayBufferView(t)||f.isArrayBuffer(t))return t.byteLength;if(f.isURLSearchParams(t)&&(t=t+""),f.isString(t))return(yield Sa(t)).byteLength}),Ta=(t,s)=>L(Y,null,function*(){const a=f.toFiniteNumber(t.getContentLength());return a==null?Pa(s):a}),Aa=De&&(t=>L(Y,null,function*(){let{url:s,method:a,data:r,signal:n,cancelToken:i,timeout:l,onDownloadProgress:c,onUploadProgress:m,responseType:x,headers:d,withCredentials:h="same-origin",fetchOptions:u}=rs(t);x=x?(x+"").toLowerCase():"text";let y=wa([n,i&&i.toAbortSignal()],l),g;const j=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let o;try{if(m&&Ca&&a!=="get"&&a!=="head"&&(o=yield Ta(d,r))!==0){let k=new Request(s,{method:"POST",body:r,duplex:"half"}),M;if(f.isFormData(r)&&(M=k.headers.get("content-type"))&&d.setContentType(M),k.body){const[C,$]=pt(o,ke(ft(m)));r=yt(k.body,jt,C,$)}}f.isString(h)||(h=h?"include":"omit");const N="credentials"in Request.prototype;g=new Request(s,Q(U({},u),{signal:y,method:a.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:N?h:void 0}));let p=yield fetch(g,u);const v=ze&&(x==="stream"||x==="response");if(ze&&(c||v&&j)){const k={};["status","statusText","headers"].forEach(b=>{k[b]=p[b]});const M=f.toFiniteNumber(p.headers.get("content-length")),[C,$]=c&&pt(M,ke(ft(c),!0))||[];p=new Response(yt(p.body,jt,C,()=>{$&&$(),j&&j()}),k)}x=x||"text";let w=yield Ee[f.findKey(Ee,x)||"text"](p,t);return!v&&j&&j(),yield new Promise((k,M)=>{ts(k,M,{data:w,headers:V.from(p.headers),status:p.status,statusText:p.statusText,config:t,request:g})})}catch(N){throw j&&j(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new S("Network Error",S.ERR_NETWORK,t,g),{cause:N.cause||N}):S.from(N,N&&N.code,t,g)}})),We={http:Gr,xhr:va,fetch:Aa};f.forEach(We,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch(a){}Object.defineProperty(t,"adapterName",{value:s})}});const bt=t=>`- ${t}`,Fa=t=>f.isFunction(t)||t===null||t===!1,is={getAdapter:t=>{t=f.isArray(t)?t:[t];const{length:s}=t;let a,r;const n={};for(let i=0;i<s;i++){a=t[i];let l;if(r=a,!Fa(a)&&(r=We[(l=String(a)).toLowerCase()],r===void 0))throw new S(`Unknown adapter '${l}'`);if(r)break;n[l||"#"+i]=r}if(!r){const i=Object.entries(n).map(([c,m])=>`adapter ${c} `+(m===!1?"is not supported by the environment":"is not available in the build"));let l=s?i.length>1?`since :
`+i.map(bt).join(`
`):" "+bt(i[0]):"as no adapter specified";throw new S("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:We};function Ve(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new de(null,t)}function Nt(t){return Ve(t),t.headers=V.from(t.headers),t.data=_e.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),is.getAdapter(t.adapter||ge.adapter)(t).then(function(r){return Ve(t),r.data=_e.call(t,t.transformResponse,r),r.headers=V.from(r.headers),r},function(r){return es(r)||(Ve(t),r&&r.response&&(r.response.data=_e.call(t,t.transformResponse,r.response),r.response.headers=V.from(r.response.headers))),Promise.reject(r)})}const ls="1.10.0",Oe={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{Oe[t]=function(r){return typeof r===t||"a"+(s<1?"n ":" ")+t}});const vt={};Oe.transitional=function(s,a,r){function n(i,l){return"[Axios v"+ls+"] Transitional option '"+i+"'"+l+(r?". "+r:"")}return(i,l,c)=>{if(s===!1)throw new S(n(l," has been removed"+(a?" in "+a:"")),S.ERR_DEPRECATED);return a&&!vt[l]&&(vt[l]=!0,console.warn(n(l," has been deprecated since v"+a+" and will be removed in the near future"))),s?s(i,l,c):!0}};Oe.spelling=function(s){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${s}`),!0)};function Ma(t,s,a){if(typeof t!="object")throw new S("options must be an object",S.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let n=r.length;for(;n-- >0;){const i=r[n],l=s[i];if(l){const c=t[i],m=c===void 0||l(c,i,t);if(m!==!0)throw new S("option "+i+" must be "+m,S.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new S("Unknown option "+i,S.ERR_BAD_OPTION)}}const ve={assertOptions:Ma,validators:Oe},J=ve.validators;class te{constructor(s){this.defaults=s||{},this.interceptors={request:new ut,response:new ut}}request(s,a){return L(this,null,function*(){try{return yield this._request(s,a)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch(l){}}throw r}})}_request(s,a){typeof s=="string"?(a=a||{},a.url=s):a=s||{},a=ae(this.defaults,a);const{transitional:r,paramsSerializer:n,headers:i}=a;r!==void 0&&ve.assertOptions(r,{silentJSONParsing:J.transitional(J.boolean),forcedJSONParsing:J.transitional(J.boolean),clarifyTimeoutError:J.transitional(J.boolean)},!1),n!=null&&(f.isFunction(n)?a.paramsSerializer={serialize:n}:ve.assertOptions(n,{encode:J.function,serialize:J.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),ve.assertOptions(a,{baseUrl:J.spelling("baseURL"),withXsrfToken:J.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let l=i&&f.merge(i.common,i[a.method]);i&&f.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),a.headers=V.concat(l,i);const c=[];let m=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(a)===!1||(m=m&&j.synchronous,c.unshift(j.fulfilled,j.rejected))});const x=[];this.interceptors.response.forEach(function(j){x.push(j.fulfilled,j.rejected)});let d,h=0,u;if(!m){const g=[Nt.bind(this),void 0];for(g.unshift.apply(g,c),g.push.apply(g,x),u=g.length,d=Promise.resolve(a);h<u;)d=d.then(g[h++],g[h++]);return d}u=c.length;let y=a;for(h=0;h<u;){const g=c[h++],j=c[h++];try{y=g(y)}catch(o){j.call(this,o);break}}try{d=Nt.call(this,y)}catch(g){return Promise.reject(g)}for(h=0,u=x.length;h<u;)d=d.then(x[h++],x[h++]);return d}getUri(s){s=ae(this.defaults,s);const a=ss(s.baseURL,s.url,s.allowAbsoluteUrls);return Kt(a,s.params,s.paramsSerializer)}}f.forEach(["delete","get","head","options"],function(s){te.prototype[s]=function(a,r){return this.request(ae(r||{},{method:s,url:a,data:(r||{}).data}))}});f.forEach(["post","put","patch"],function(s){function a(r){return function(i,l,c){return this.request(ae(c||{},{method:s,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}te.prototype[s]=a(),te.prototype[s+"Form"]=a(!0)});class rt{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(i){a=i});const r=this;this.promise.then(n=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](n);r._listeners=null}),this.promise.then=n=>{let i;const l=new Promise(c=>{r.subscribe(c),i=c}).then(n);return l.cancel=function(){r.unsubscribe(i)},l},s(function(i,l,c){r.reason||(r.reason=new de(i,l,c),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const a=this._listeners.indexOf(s);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const s=new AbortController,a=r=>{s.abort(r)};return this.subscribe(a),s.signal.unsubscribe=()=>this.unsubscribe(a),s.signal}static source(){let s;return{token:new rt(function(n){s=n}),cancel:s}}}function Da(t){return function(a){return t.apply(null,a)}}function Oa(t){return f.isObject(t)&&t.isAxiosError===!0}const Qe={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Qe).forEach(([t,s])=>{Qe[s]=t});function cs(t){const s=new te(t),a=qt(te.prototype.request,s);return f.extend(a,te.prototype,s,{allOwnKeys:!0}),f.extend(a,s,null,{allOwnKeys:!0}),a.create=function(n){return cs(ae(t,n))},a}const F=cs(ge);F.Axios=te;F.CanceledError=de;F.CancelToken=rt;F.isCancel=es;F.VERSION=ls;F.toFormData=Me;F.AxiosError=S;F.Cancel=F.CanceledError;F.all=function(s){return Promise.all(s)};F.spread=Da;F.isAxiosError=Oa;F.mergeConfig=ae;F.AxiosHeaders=V;F.formToJSON=t=>Zt(f.isHTMLForm(t)?new FormData(t):t);F.getAdapter=is.getAdapter;F.HttpStatusCode=Qe;F.default=F;const Se=class Se{static getQuote(s){return L(this,null,function*(){try{const r=(yield F.get(`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${s}&apikey=${this.ALPHA_VANTAGE_KEY}`)).data["Global Quote"];if(!r)throw new Error("No data found");return{symbol:s,price:parseFloat(r["05. price"]),change:parseFloat(r["09. change"]),changePercent:parseFloat(r["10. change percent"].replace("%","")),volume:parseInt(r["06. volume"]),high:parseFloat(r["03. high"]),low:parseFloat(r["04. low"]),open:parseFloat(r["02. open"]),previousClose:parseFloat(r["08. previous close"])}}catch(a){return console.warn("Alpha Vantage failed, trying fallback:",a),this.getQuoteFallback(s)}})}static getQuoteFallback(s){return L(this,null,function*(){try{const a=yield F.get(`https://cloud.iexapis.com/stable/stock/${s}/quote?token=${this.IEX_CLOUD_KEY}`);return{symbol:s,price:a.data.latestPrice,change:a.data.change,changePercent:a.data.changePercent*100,volume:a.data.latestVolume,high:a.data.high,low:a.data.low,open:a.data.open,previousClose:a.data.previousClose}}catch(a){return console.error("All market data providers failed:",a),this.getMockQuote(s)}})}static getMockQuote(s){const a=100+Math.random()*400,r=(Math.random()-.5)*10;return{symbol:s,price:a,change:r,changePercent:r/a*100,volume:Math.floor(Math.random()*1e7),high:a+Math.random()*5,low:a-Math.random()*5,open:a+(Math.random()-.5)*3,previousClose:a-r}}static getFundamentals(s){return L(this,null,function*(){try{const r=(yield F.get(`https://www.alphavantage.co/query?function=OVERVIEW&symbol=${s}&apikey=${this.ALPHA_VANTAGE_KEY}`)).data;if(!r||Object.keys(r).length===0)throw new Error("No fundamental data");return{symbol:s,marketCap:parseInt(r.MarketCapitalization)||0,peRatio:parseFloat(r.PERatio)||0,pbRatio:parseFloat(r.PriceToBookRatio)||0,pegRatio:parseFloat(r.PEGRatio)||0,dividendYield:parseFloat(r.DividendYield)||0,eps:parseFloat(r.EPS)||0,beta:parseFloat(r.Beta)||1,roe:parseFloat(r.ReturnOnEquityTTM)||0,roa:parseFloat(r.ReturnOnAssetsTTM)||0,debtToEquity:parseFloat(r.DebtToEquityRatio)||0,currentRatio:parseFloat(r.CurrentRatio)||0,quickRatio:parseFloat(r.QuickRatio)||0,grossMargin:parseFloat(r.GrossProfitMarginTTM)||0,operatingMargin:parseFloat(r.OperatingMarginTTM)||0,netMargin:parseFloat(r.ProfitMarginTTM)||0,revenueGrowth:parseFloat(r.QuarterlyRevenueGrowthYOY)||0,sector:r.Sector||"Unknown",industry:r.Industry||"Unknown"}}catch(a){return console.warn("Fundamentals API failed, using mock data:",a),this.getMockFundamentals(s)}})}static getMockFundamentals(s){return{symbol:s,marketCap:Math.floor(Math.random()*1e12),peRatio:15+Math.random()*20,pbRatio:1+Math.random()*5,pegRatio:.5+Math.random()*2,dividendYield:Math.random()*5,eps:Math.random()*10,beta:.5+Math.random()*1.5,roe:10+Math.random()*20,roa:5+Math.random()*15,debtToEquity:Math.random()*1,currentRatio:1+Math.random()*2,quickRatio:.5+Math.random()*1.5,grossMargin:20+Math.random()*50,operatingMargin:10+Math.random()*30,netMargin:5+Math.random()*25,revenueGrowth:-5+Math.random()*20,sector:["Technology","Healthcare","Financial Services","Consumer Discretionary"][Math.floor(Math.random()*4)],industry:"Software"}}static getHistoricalData(s,a="1y"){return L(this,null,function*(){try{const n=(yield F.get(`https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=${s}&apikey=${this.ALPHA_VANTAGE_KEY}`)).data["Time Series (Daily)"];if(!n)throw new Error("No historical data");return Object.entries(n).slice(0,252).map(([l,c])=>({date:l,open:parseFloat(c["1. open"]),high:parseFloat(c["2. high"]),low:parseFloat(c["3. low"]),close:parseFloat(c["4. close"]),volume:parseInt(c["5. volume"])})).reverse()}catch(r){return console.warn("Historical data failed, using mock data:",r),this.getMockHistoricalData(s)}})}static getMockHistoricalData(s){const a=[];let r=100+Math.random()*200;const n=new Date;for(let i=252;i>=0;i--){const l=new Date(n);l.setDate(l.getDate()-i);const c=(Math.random()-.5)*.05;r=r*(1+c),a.push({date:l.toISOString().split("T")[0],open:r*(1+(Math.random()-.5)*.02),high:r*(1+Math.random()*.03),low:r*(1-Math.random()*.03),close:r,volume:Math.floor(Math.random()*1e7)})}return a}};Se.ALPHA_VANTAGE_KEY="demo",Se.IEX_CLOUD_KEY="demo";let Je=Se;const Ba=({holding:t,isExpanded:s,onToggle:a})=>{const r=(j,o=1)=>j===0?"0":j.toFixed(o),n=j=>j===0?"0%":`${j>=0?"+":""}${j.toFixed(1)}%`,i=j=>j>=1e9?`$${(j/1e9).toFixed(1)}B`:j>=1e6?`$${(j/1e6).toFixed(1)}M`:`$${j.toLocaleString()}`,[l,c]=X.useState(null),[m,x]=X.useState(!1);X.useEffect(()=>{s&&!l&&(x(!0),Je.getQuote(t.ticker).then(j=>c(j)).catch(j=>console.warn("Market data failed:",j)).finally(()=>x(!1)))},[s,t.ticker,l]);const[d,h]=X.useState(!1),u=()=>e.jsxs("div",{className:"bg-gray-900 text-white p-6 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-green-400",children:[t.ticker," - ",t.company," Financial Ratios"]}),e.jsx("button",{onClick:()=>h(!d),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm",children:d?"Hide Advanced":"Show Advanced"})]}),d&&e.jsx("div",{className:"mb-6",children:e.jsx(ir,{holding:t,marketData:l})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(G,{className:"h-5 w-5 text-blue-400 mr-2"}),e.jsx("h4",{className:"text-lg font-medium text-blue-400",children:"Valuation Ratios"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Determine if a stock is overvalued or undervalued relative to earnings, book value, and growth prospects."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"P/E Ratio"}),e.jsxs("span",{className:"text-white font-semibold",children:[r(t.pe),"x"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"P/B Ratio"}),e.jsxs("span",{className:"text-white font-semibold",children:[r(t.pb),"x"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"PEG Ratio"}),e.jsxs("span",{className:"text-white font-semibold",children:[r(t.peg),"x"]})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(H,{className:"h-5 w-5 text-yellow-400 mr-2"}),e.jsx("h4",{className:"text-lg font-medium text-yellow-400",children:"Financial Health"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Assess the company's ability to meet obligations and manage debt effectively."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Debt-to-Equity"}),e.jsxs("span",{className:"text-white font-semibold",children:[r(t.debtToEquity,2),"x"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Current Ratio"}),e.jsxs("span",{className:"text-white font-semibold",children:[r(t.currentRatio,2),"x"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Quick Ratio"}),e.jsxs("span",{className:"text-white font-semibold",children:[r(t.quickRatio,2),"x"]})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(D,{className:"h-5 w-5 text-green-400 mr-2"}),e.jsx("h4",{className:"text-lg font-medium text-green-400",children:"Profitability"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Measure how efficiently the company generates profits from its assets and equity."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"ROE"}),e.jsx("span",{className:"text-white font-semibold",children:n(t.roe)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"ROA"}),e.jsx("span",{className:"text-white font-semibold",children:n(t.roa)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Gross Margin"}),e.jsx("span",{className:"text-white font-semibold",children:n(t.grossMargin)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Net Margin"}),e.jsx("span",{className:"text-white font-semibold",children:n(t.netMargin)})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(O,{className:"h-5 w-5 text-purple-400 mr-2"}),e.jsx("h4",{className:"text-lg font-medium text-purple-400",children:"Operating Efficiency"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Evaluate how well management uses company resources to generate revenue and control costs."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Operating Margin"}),e.jsx("span",{className:"text-white font-semibold",children:n(t.operatingMargin)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Asset Turnover"}),e.jsxs("span",{className:"text-white font-semibold",children:[r(t.assetTurnover,2),"x"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Revenue Growth"}),e.jsx("span",{className:"text-white font-semibold",children:n(t.revenueGrowth)})]})]})]})]}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsxs("button",{onClick:a,className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors flex items-center",children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),"Close QuickView"]})})]}),y=()=>e.jsxs("div",{className:"bg-gray-900 text-white p-6 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-green-400",children:[t.ticker," - ",t.company," Performance Metrics"]}),e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(je,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(D,{className:"h-5 w-5 text-green-400 mr-2"}),e.jsx("h4",{className:"text-lg font-medium text-green-400",children:"Performance Returns"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Track historical returns and alpha to evaluate fund performance against benchmarks."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"1-Year Return"}),e.jsx("span",{className:"text-green-400 font-semibold",children:"+24.8%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"3-Year Return"}),e.jsx("span",{className:"text-green-400 font-semibold",children:"+10.2%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"5-Year Return"}),e.jsx("span",{className:"text-green-400 font-semibold",children:"+15.1%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Alpha"}),e.jsx("span",{className:"text-green-400 font-semibold",children:"+0.1%"})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(H,{className:"h-5 w-5 text-red-400 mr-2"}),e.jsx("h4",{className:"text-lg font-medium text-red-400",children:"Risk Metrics"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Understand volatility, correlation to market, and risk-adjusted returns for informed decisions."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Beta"}),e.jsx("span",{className:"text-white font-semibold",children:"1"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Sharpe Ratio"}),e.jsx("span",{className:"text-white font-semibold",children:"1.42"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Standard Deviation"}),e.jsx("span",{className:"text-white font-semibold",children:"17.8%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Tracking Error"}),e.jsx("span",{className:"text-white font-semibold",children:"0.02%"})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(ne,{className:"h-5 w-5 text-blue-400 mr-2"}),e.jsx("h4",{className:"text-lg font-medium text-blue-400",children:"Fund Details"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Critical fund characteristics affecting long-term returns and investment costs."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Expense Ratio"}),e.jsx("span",{className:"text-white font-semibold",children:"0.03%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Assets Under Management"}),e.jsx("span",{className:"text-white font-semibold",children:"$1.3B"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(O,{className:"h-5 w-5 text-purple-400 mr-2"}),e.jsx("h4",{className:"text-lg font-medium text-purple-400",children:"Risk Assessment"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Beta:"}),e.jsx("span",{className:"text-gray-300 ml-2",children:"Measures volatility relative to market. More volatile than market."})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Sharpe Ratio:"}),e.jsx("span",{className:"text-gray-300 ml-2",children:"Risk-adjusted return measure. Good risk-adjusted returns."})]})]})]})]}),g=()=>e.jsxs("div",{className:"bg-gray-900 text-white p-6 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-green-400",children:[t.ticker," - ",t.company," Bond Metrics"]}),e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(je,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(pe,{className:"h-5 w-5 text-green-400 mr-2"}),e.jsx("h4",{className:"text-lg font-medium text-green-400",children:"Yield & Income"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Current income generation and yield characteristics of the bond investment."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Current Yield"}),e.jsx("span",{className:"text-white font-semibold",children:n(t.dividendYield||2.51)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Annual Income"}),e.jsx("span",{className:"text-white font-semibold",children:i(t.shares*(t.dividend||0))})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Yield to Maturity"}),e.jsx("span",{className:"text-white font-semibold",children:"4.2%"})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(H,{className:"h-5 w-5 text-blue-400 mr-2"}),e.jsx("h4",{className:"text-lg font-medium text-blue-400",children:"Risk Characteristics"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Interest rate sensitivity and credit quality assessment for risk management."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Duration"}),e.jsx("span",{className:"text-white font-semibold",children:"6.8 years"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Credit Rating"}),e.jsx("span",{className:"text-white font-semibold",children:"AAA"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Interest Rate Risk"}),e.jsx("span",{className:"text-yellow-400 font-semibold",children:"Moderate"})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(D,{className:"h-5 w-5 text-purple-400 mr-2"}),e.jsx("h4",{className:"text-lg font-medium text-purple-400",children:"Performance Metrics"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Historical performance and volatility characteristics of the bond fund."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"1-Year Return"}),e.jsx("span",{className:"text-green-400 font-semibold",children:"+2.1%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"3-Year Return"}),e.jsx("span",{className:"text-red-400 font-semibold",children:"-1.8%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Volatility"}),e.jsx("span",{className:"text-white font-semibold",children:"3.2%"})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(se,{className:"h-5 w-5 text-orange-400 mr-2"}),e.jsx("h4",{className:"text-lg font-medium text-orange-400",children:"Fund Information"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Key fund characteristics and management details for investment evaluation."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Expense Ratio"}),e.jsx("span",{className:"text-white font-semibold",children:"0.05%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Average Maturity"}),e.jsx("span",{className:"text-white font-semibold",children:"8.5 years"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Assets Under Management"}),e.jsx("span",{className:"text-white font-semibold",children:"$45.2B"})]})]})]})]})]});return s?e.jsxs("div",{className:"mt-4",children:[t.type==="stocks"&&u(),t.type==="etfs"&&y(),t.type==="bonds"&&g()]}):e.jsxs("button",{onClick:a,className:"flex items-center space-x-2 px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors",children:[e.jsx(O,{className:"h-3 w-3"}),e.jsx("span",{children:"QuickView"}),e.jsx(St,{className:"h-3 w-3"})]})},La=({holdings:t})=>{const[s,a]=E.useState("currentPrice"),[r,n]=E.useState("asc"),[i,l]=E.useState(null),c=o=>{s===o?n(r==="asc"?"desc":"asc"):(a(o),n("asc"))},m=o=>{l(i===o?null:o)},x=(o,N,p)=>{const v=new URLSearchParams({ticker:o,company:N,type:p}),w=`${window.location.origin}/?${v.toString()}`;window.open(w,"_blank")},d=[...t].sort((o,N)=>{if(s==="currentPrice"&&r==="asc"){const w=o.shares*o.currentPrice;return N.shares*N.currentPrice-w}const p=o[s],v=N[s];return typeof p=="string"&&typeof v=="string"?r==="asc"?p.localeCompare(v):v.localeCompare(p):r==="asc"?p-v:v-p}),h=(o,N=2)=>o.toLocaleString("en-US",{minimumFractionDigits:N,maximumFractionDigits:N}),u=o=>`$${h(o)}`,y=o=>`${h(o)}%`,g=o=>{const N=o.shares*o.currentPrice,p=o.shares*o.costBasis,v=N-p,w=v/p*100;return{gainLoss:v,gainLossPercent:w,currentValue:N,totalCost:p}},j=o=>(o.intrinsicValue-o.currentPrice)/o.currentPrice*100;return e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("company"),children:"Company"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("ticker"),children:"Ticker"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("costBasis"),children:"Cost Basis"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gain/Loss"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("currentPrice"),children:"Current Price"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("yearHigh"),children:"52W High"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("yearLow"),children:"52W Low"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("fcf10yr"),children:"10-yr FCF ($B)"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("evFcf"),children:"EV/FCF"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("intrinsicValue"),children:"Intrinsic Value"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Upside %"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("pe"),children:"P/E"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("pb"),children:"P/B"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("peg"),children:"PEG"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("debtToEquity"),children:"Debt/Equity"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("currentRatio"),children:"Current Ratio"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("quickRatio"),children:"Quick Ratio"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("roe"),children:"ROE %"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("roa"),children:"ROA %"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("grossMargin"),children:"Gross Margin %"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("netMargin"),children:"Net Margin %"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("operatingMargin"),children:"Operating Margin %"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("assetTurnover"),children:"Asset Turnover"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>c("revenueGrowth"),children:"Revenue Growth %"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Narrative"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map((o,N)=>{const{gainLoss:p,gainLossPercent:v,currentValue:w,totalCost:k}=g(o),M=j(o);return e.jsxs(X.Fragment,{children:[e.jsxs("tr",{className:N%2===0?"bg-white":"bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.company}),e.jsx("div",{className:"text-sm text-gray-500",children:o.sector})]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:o.ticker}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:[o.shares," shares"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Avg Cost: ",u(o.costBasis)]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Value: ",u(w)]})]}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:u(o.costBasis)}),e.jsx("div",{className:"text-sm text-gray-500",children:"per share"}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Total: ",u(k)]})]}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:`text-sm font-medium ${p>=0?"text-green-600":"text-red-600"}`,children:[p>=0?e.jsx(D,{className:"inline h-4 w-4 mr-1"}):e.jsx(ce,{className:"inline h-4 w-4 mr-1"}),u(p)]}),e.jsx("div",{className:`text-sm ${v>=0?"text-green-600":"text-red-600"}`,children:y(v)})]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:u(o.currentPrice)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:u(o.yearHigh)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:u(o.yearLow)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:h(o.fcf10yr,1)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:h(o.evFcf,1)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:u(o.intrinsicValue)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`text-sm font-medium ${M>=0?"text-green-600":"text-red-600"}`,children:y(M)})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:h(o.pe,1)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:h(o.pb,1)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:h(o.peg,1)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:h(o.debtToEquity,1)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:h(o.currentRatio,1)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:h(o.quickRatio,1)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:y(o.roe)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:y(o.roa)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:y(o.grossMargin)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:y(o.netMargin)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:y(o.operatingMargin)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:h(o.assetTurnover,1)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:y(o.revenueGrowth)}),e.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 max-w-xs",children:e.jsx("div",{className:"truncate",title:o.narrative,children:o.narrative})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:e.jsx($s,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-gray-600 hover:text-gray-900",children:e.jsx(Ue,{className:"h-4 w-4"})}),e.jsxs("button",{onClick:()=>x(o.ticker,o.company,o.type),className:"ml-2 inline-flex items-center space-x-1 px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors",children:[e.jsx(O,{className:"h-3 w-3"}),e.jsx("span",{children:"QuickView"}),e.jsx(Ue,{className:"h-3 w-3"})]}),e.jsxs("button",{onClick:()=>m(o.id),className:"ml-2 inline-flex items-center space-x-1 px-3 py-1 text-xs bg-green-100 text-green-700 rounded-md hover:bg-green-200 transition-colors",children:[e.jsx(O,{className:"h-3 w-3"}),e.jsx("span",{children:"Advanced"})]})]})]}),i===o.id&&e.jsx("tr",{children:e.jsx("td",{colSpan:26,className:"px-4 py-4 bg-gray-50",children:e.jsx(Ba,{holding:o,isExpanded:!0,onToggle:()=>l(null)})})},`${o.id}-quickview`)]},o.id)})})]})})})},$a=()=>{const t=[{category:"Valuation Ratios",icon:G,color:"text-blue-600",description:"Metrics that help determine if a stock is overvalued or undervalued relative to its fundamentals",ratios:[{name:"Price-to-Earnings (P/E)",formula:"Current Stock Price ÷ Earnings Per Share (EPS)",description:"Measures how much investors are willing to pay for each dollar of earnings. Lower values may indicate undervaluation.",interpretation:{low:"P/E < 15: Potentially undervalued or slow growth",medium:"P/E 15-25: Fair valuation for most companies",high:"P/E > 25: High growth expectations or overvaluation"},importance:"Helps identify overvalued or undervalued stocks relative to their earnings power. Most widely used valuation metric.",limitations:"Can be misleading for companies with volatile earnings or negative earnings. Doesn't account for growth rates."},{name:"Price-to-Book (P/B)",formula:"Current Stock Price ÷ Book Value Per Share",description:"Compares market value to book value. Values below 1 may indicate undervaluation.",interpretation:{low:"P/B < 1: Trading below book value, potential value play",medium:"P/B 1-3: Reasonable valuation for most industries",high:"P/B > 3: Premium valuation, growth or quality premium"},importance:"Useful for identifying companies trading below their asset value, especially valuable in value investing and for asset-heavy industries.",limitations:"Book value may not reflect true market value of assets. Less relevant for service companies with few tangible assets."},{name:"PEG Ratio",formula:"P/E Ratio ÷ Earnings Growth Rate",description:"P/E ratio divided by earnings growth rate. Values below 1 may indicate good value.",interpretation:{low:"PEG < 1: Potentially undervalued relative to growth",medium:"PEG 1-1.5: Fair valuation considering growth",high:"PEG > 1.5: Expensive relative to growth prospects"},importance:"Incorporates growth expectations into valuation, providing a more complete picture than P/E alone. Helps identify growth at a reasonable price.",limitations:"Relies on growth estimates which can be inaccurate. Not useful for companies with negative or erratic growth."},{name:"EV/FCF (Enterprise Value to Free Cash Flow)",formula:"Enterprise Value ÷ Free Cash Flow",description:"Compares total company value to cash generation ability. Lower values suggest better value.",interpretation:{low:"EV/FCF < 15: Strong cash generation, potential value",medium:"EV/FCF 15-25: Reasonable valuation",high:"EV/FCF > 25: Expensive or low cash generation"},importance:"Focuses on actual cash generation rather than accounting earnings. Useful for comparing companies across different capital structures.",limitations:"Free cash flow can be volatile. May not capture cyclical businesses well."},{name:"Intrinsic Value",formula:"Discounted Cash Flow (DCF) Analysis",description:"Estimated fair value based on projected future cash flows discounted to present value.",interpretation:{low:"Price < Intrinsic Value: Potentially undervalued",medium:"Price ≈ Intrinsic Value: Fairly valued",high:"Price > Intrinsic Value: Potentially overvalued"},importance:"Provides fundamental estimate of what a company should be worth based on its cash-generating ability.",limitations:"Highly dependent on assumptions about future growth, margins, and discount rates. Can vary significantly between analysts."}]},{category:"Financial Health & Leverage",icon:H,color:"text-green-600",description:"Ratios that assess a company's financial stability and ability to meet its obligations",ratios:[{name:"Debt-to-Equity",formula:"Total Debt ÷ Total Shareholders' Equity",description:"Measures financial leverage and risk. Lower values generally indicate stronger financial health.",interpretation:{low:"D/E < 0.3: Conservative, low financial risk",medium:"D/E 0.3-0.6: Moderate leverage, industry dependent",high:"D/E > 0.6: High leverage, higher financial risk"},importance:"Shows how much debt a company uses to finance operations relative to equity, indicating financial risk and leverage strategy.",limitations:"Optimal levels vary by industry. Some industries naturally require more debt. Off-balance-sheet obligations may not be captured."},{name:"Current Ratio",formula:"Current Assets ÷ Current Liabilities",description:"Current assets divided by current liabilities. Values above 1 indicate good short-term liquidity.",interpretation:{low:"Current Ratio < 1: Potential liquidity issues",medium:"Current Ratio 1-2: Adequate liquidity",high:"Current Ratio > 2: Strong liquidity, possibly excess cash"},importance:"Measures ability to pay short-term obligations, crucial for financial stability and operational continuity.",limitations:"Doesn't consider the quality or liquidity of current assets. Inventory may be difficult to convert to cash quickly."},{name:"Quick Ratio (Acid Test)",formula:"(Current Assets - Inventory) ÷ Current Liabilities",description:"More conservative than current ratio, excludes inventory. Values above 1 are generally good.",interpretation:{low:"Quick Ratio < 0.5: Poor immediate liquidity",medium:"Quick Ratio 0.5-1: Adequate immediate liquidity",high:"Quick Ratio > 1: Strong immediate liquidity"},importance:"Better measure of immediate liquidity since inventory may be hard to convert to cash quickly. More stringent test of financial health.",limitations:"May be too conservative for companies with fast-moving inventory. Doesn't consider timing of cash flows."}]},{category:"Profitability Ratios",icon:D,color:"text-purple-600",description:"Metrics that measure how effectively a company generates profits from its operations",ratios:[{name:"Return on Equity (ROE)",formula:"Net Income ÷ Average Shareholders' Equity",description:"Net income divided by shareholder equity. Higher values indicate more efficient use of equity.",interpretation:{low:"ROE < 10%: Below average returns to shareholders",medium:"ROE 10-20%: Good returns, competitive performance",high:"ROE > 20%: Excellent returns, superior management"},importance:"Shows how effectively management is using shareholders' money to generate profits. Key metric for equity investors.",limitations:"Can be inflated by high debt levels. May not reflect sustainable returns if driven by one-time events."},{name:"Return on Assets (ROA)",formula:"Net Income ÷ Average Total Assets",description:"Net income divided by total assets. Higher values indicate more efficient asset utilization.",interpretation:{low:"ROA < 5%: Poor asset utilization",medium:"ROA 5-10%: Reasonable asset efficiency",high:"ROA > 10%: Excellent asset utilization"},importance:"Measures how efficiently a company uses its assets to generate earnings, regardless of how those assets are financed.",limitations:"Can vary significantly by industry based on asset intensity. Historical cost accounting may not reflect true asset values."},{name:"Gross Margin",formula:"Gross Profit ÷ Revenue × 100",description:"Gross profit divided by revenue. Higher values indicate better pricing power and cost control.",interpretation:{low:"Gross Margin < 20%: Low pricing power, competitive pressure",medium:"Gross Margin 20-50%: Reasonable pricing power",high:"Gross Margin > 50%: Strong pricing power, differentiation"},importance:"Shows profitability after direct costs, indicating competitive advantage, pricing power, and operational efficiency.",limitations:"Doesn't include operating expenses. Can be manipulated through inventory accounting methods."},{name:"Net Margin",formula:"Net Income ÷ Revenue × 100",description:"Net income divided by revenue. Shows overall profitability after all expenses.",interpretation:{low:"Net Margin < 5%: Low overall profitability",medium:"Net Margin 5-15%: Reasonable profitability",high:"Net Margin > 15%: High profitability, efficient operations"},importance:"Ultimate measure of profitability, showing how much of each revenue dollar flows to the bottom line.",limitations:"Can be affected by one-time charges, tax rates, and accounting methods. May not reflect operating performance."},{name:"Operating Margin",formula:"Operating Income ÷ Revenue × 100",description:"Operating income divided by revenue. Measures operational efficiency.",interpretation:{low:"Operating Margin < 10%: Poor operational efficiency",medium:"Operating Margin 10-20%: Good operational control",high:"Operating Margin > 20%: Excellent operational efficiency"},importance:"Shows profitability from core operations, excluding financing and tax effects. Good measure of management effectiveness.",limitations:"Excludes important costs like interest and taxes. May not reflect total company performance."}]},{category:"Efficiency & Growth",icon:O,color:"text-orange-600",description:"Ratios that measure how efficiently a company uses its resources and grows its business",ratios:[{name:"Asset Turnover",formula:"Revenue ÷ Average Total Assets",description:"Measures how efficiently a company uses its assets to generate sales.",interpretation:{low:"Asset Turnover < 0.5: Poor asset utilization",medium:"Asset Turnover 0.5-1.5: Reasonable efficiency",high:"Asset Turnover > 1.5: High asset efficiency"},importance:"Shows how well management uses company assets to generate revenue. Higher turnover indicates more efficient operations.",limitations:"Varies significantly by industry. Asset-heavy industries naturally have lower turnover ratios."},{name:"Revenue Growth",formula:"(Current Period Revenue - Prior Period Revenue) ÷ Prior Period Revenue × 100",description:"Year-over-year percentage increase in revenue. Indicates business expansion.",interpretation:{low:"Revenue Growth < 5%: Slow growth, mature business",medium:"Revenue Growth 5-15%: Steady growth",high:"Revenue Growth > 15%: High growth, expanding business"},importance:"Fundamental measure of business growth and market share expansion. Critical for growth investors.",limitations:"Can be affected by acquisitions, currency changes, or one-time events. Quality of growth matters more than just quantity."}]},{category:"Cash Flow Analysis",icon:le,color:"text-teal-600",description:"Metrics focused on cash generation and financial sustainability",ratios:[{name:"Free Cash Flow (1-Year)",formula:"Operating Cash Flow - Capital Expenditures",description:"Cash generated after necessary capital investments. Measures true cash generation ability.",interpretation:{low:"Negative FCF: Cash burn, growth investment phase",medium:"Positive FCF: Sustainable cash generation",high:"High FCF: Strong cash generation, financial flexibility"},importance:"Shows actual cash available for dividends, buybacks, debt reduction, or growth investments.",limitations:"Can be volatile due to timing of capital expenditures. May not capture necessary maintenance capex accurately."},{name:"Free Cash Flow (10-Year)",formula:"Cumulative 10-year Free Cash Flow",description:"Long-term cash generation track record. Shows consistency and sustainability.",interpretation:{low:"Inconsistent or low long-term cash generation",medium:"Steady long-term cash generation",high:"Strong, consistent long-term cash generation"},importance:"Demonstrates long-term business sustainability and management's ability to generate cash through cycles.",limitations:"Historical performance may not predict future results. Business models may have changed significantly."}]},{category:"Market Performance",icon:re,color:"text-red-600",description:"Price-based metrics that reflect market sentiment and trading ranges",ratios:[{name:"52-Week High",formula:"Highest trading price in the past 52 weeks",description:"Shows the peak price level reached in the past year.",interpretation:{low:"Current price near 52-week high: Momentum, potential resistance",medium:"Current price in middle of range: Neutral sentiment",high:"Current price near 52-week low: Potential value, support level"},importance:"Helps identify potential support and resistance levels, momentum, and relative valuation.",limitations:"Backward-looking metric. High prices may indicate overvaluation or strong fundamentals."},{name:"52-Week Low",formula:"Lowest trading price in the past 52 weeks",description:"Shows the trough price level reached in the past year.",interpretation:{low:"Wide range: High volatility, uncertain outlook",medium:"Moderate range: Normal price fluctuation",high:"Narrow range: Low volatility, stable sentiment"},importance:"Provides context for current valuation and helps identify potential buying opportunities or warning signs.",limitations:"Low prices may indicate fundamental problems rather than value opportunities."},{name:"Current Price",formula:"Most recent trading price",description:"Real-time market valuation of the company.",interpretation:{low:"Relative to intrinsic value and historical ranges",medium:"Consider in context of fundamentals and trends",high:"Market sentiment and expectations reflected"},importance:"Starting point for all valuation analysis. Reflects current market consensus on company value.",limitations:"Can be influenced by short-term sentiment, market conditions, and technical factors unrelated to fundamentals."}]}];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(ne,{className:"h-6 w-6 text-blue-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Financial Ratios Guide"})]}),e.jsx("p",{className:"text-gray-600",children:"Comprehensive guide to understanding the financial ratios and metrics used in portfolio analysis. Each ratio provides unique insights into company performance, financial health, and valuation."})]}),t.map((s,a)=>{const r=s.icon;return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(r,{className:`h-6 w-6 ${s.color}`}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:s.category})]}),e.jsx("p",{className:"text-gray-600",children:s.description})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.ratios.map((n,i)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:n.name}),e.jsxs("div",{className:"bg-gray-50 rounded-md p-3 mb-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Formula: "}),e.jsx("code",{className:"text-sm text-blue-600 font-mono",children:n.formula})]}),e.jsx("p",{className:"text-gray-700 mb-4",children:n.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Interpretation Guidelines"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full mt-1.5 mr-2 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-600",children:n.interpretation.low})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full mt-1.5 mr-2 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-600",children:n.interpretation.medium})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full mt-1.5 mr-2 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-600",children:n.interpretation.high})]})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Why It Matters"}),e.jsx("p",{className:"text-sm text-blue-700 bg-blue-50 p-3 rounded-md",children:n.importance})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Limitations & Considerations"}),e.jsx("p",{className:"text-sm text-orange-700 bg-orange-50 p-3 rounded-md",children:n.limitations})]})]},i))})})]},a)}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Key Takeaways"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Best Practices:"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:"• Compare ratios within the same industry"}),e.jsx("li",{children:"• Look at trends over multiple periods"}),e.jsx("li",{children:"• Use multiple ratios for comprehensive analysis"}),e.jsx("li",{children:"• Consider business cycle and market conditions"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Remember:"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:"• No single ratio tells the complete story"}),e.jsx("li",{children:"• Context and industry norms matter"}),e.jsx("li",{children:"• Quality of earnings and cash flows is crucial"}),e.jsx("li",{children:"• Combine quantitative analysis with qualitative factors"})]})]})]})]})]})},qa=()=>window.innerWidth<=768||/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Ia=()=>{const{user:t,loading:s}=Ze(),[a,r]=E.useState(At),[n,i]=E.useState([]),[l,c]=E.useState(!1),[m,x]=E.useState("portfolio"),[d,h]=E.useState("all");if(s)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(!t)return e.jsx(Ks,{});const u=o=>{const N=Q(U({},o),{id:Date.now().toString()});i([...n,N]),y(N)},y=o=>{if(o.type==="buy"){const N=a.find(p=>p.ticker===o.ticker);if(N&&o.shares&&o.price){const p=N.shares+o.shares,v=(N.shares*N.costBasis+o.shares*o.price)/p;r(w=>w.map(k=>k.ticker===o.ticker?Q(U({},k),{shares:p,costBasis:v}):k))}}},g=d==="all"?a:a.filter(o=>o.type===d),j=a.map(o=>o.ticker);return qa()?e.jsx(nr,{holdings:a,transactions:n,onAddTransaction:u}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ue,{className:"h-8 w-8 text-blue-600"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Portfolio Tracker w/ Financial Ratios"})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("button",{onClick:()=>c(!0),className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ke,{className:"h-4 w-4"}),e.jsx("span",{children:"Add Transaction"})]})})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-6",children:e.jsx("nav",{className:"flex space-x-8",children:["portfolio","performance","accounts","dividends","transactions","ratios"].map(o=>e.jsxs("button",{onClick:()=>x(o),className:`py-2 px-1 border-b-2 font-medium text-sm capitalize transition-colors ${m===o?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[o==="portfolio"&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(ue,{className:"h-4 w-4 mr-1"}),"Portfolio"]}),o==="transactions"&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(Et,{className:"h-4 w-4 mr-1"}),"Transactions"]}),o==="performance"&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(D,{className:"h-4 w-4 mr-1"}),"Performance"]}),o==="accounts"&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(Xe,{className:"h-4 w-4 mr-1"}),"Accounts"]}),o==="dividends"&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(G,{className:"h-4 w-4 mr-1"}),"Dividends"]}),o==="ratios"&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(ne,{className:"h-4 w-4 mr-1"}),"Ratios Guide"]})]},o))})}),m==="portfolio"&&e.jsxs(e.Fragment,{children:[e.jsx(Mt,{holdings:a}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex space-x-4",children:["all","stocks","etfs","bonds"].map(o=>e.jsx("button",{onClick:()=>h(o),className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${d===o?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:o==="all"?"All Holdings":o.toUpperCase()},o))})}),e.jsx(La,{holdings:g})]}),m==="transactions"&&e.jsx(Lt,{transactions:n}),m==="performance"&&e.jsx(Dt,{holdings:a}),m==="ratios"&&e.jsx($a,{}),m==="accounts"&&e.jsx(Ot,{holdings:a}),m==="dividends"&&e.jsx(Bt,{holdings:a})]}),l&&e.jsx($t,{onClose:()=>c(!1),onAdd:u,existingTickers:j})]})};function _a(){return e.jsx(Js,{children:e.jsx(Ia,{})})}const Va=window.location.pathname==="/quickview"||window.location.search.includes("ticker=");Tt(document.getElementById("root")).render(e.jsx(E.StrictMode,{children:Va?e.jsx(Gs,{}):e.jsx(_a,{})}))});export default Ua();
